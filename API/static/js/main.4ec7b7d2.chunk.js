(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{39:function(e,t,n){"use strict";(function(e){var i=n(18),c=n(19),r=n(21),a=n(20),s=n(0),o=n.n(s),l=n(40),u=n.n(l),d=n(41),j=n(44),b=n(1),h=function(t){Object(r.a)(o,t);var s=Object(a.a)(o);function o(e){var t;return Object(i.a)(this,o),(t=s.call(this,e)).changeData=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(0!=e){var c=t.state.tree.criteres.find((function(t){return t.ID_Critere===e})),r=t.state.tree.decisions.filter((function(e){return e.ID_Critere_entrant===c.ID_Critere})),a=t.state.currentIssue;t.setState({currentIssue:c,currentDecisions:r,step:t.state.step+1},(function(){i&&t.manageHistoric(n,a)}))}else alert("fini")},t.backOut=function(e){t.changeData(e,null,!1);var n=t.state.historic.indexOf(t.state.historic.find((function(t){return t.issue.ID_Critere===e})));t.state.historic.length=n+1,t.state.historic[n].decision=null,t.setState({step:n+1},(function(){return console.log(t.state)}))},t.manageHistoric=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=t.state.historic.find((function(e){return e.issue.ID_Critere===n.ID_Critere}));i&&(i.decision=e);var c={issue:t.state.currentIssue,decision:null};t.setState({historic:t.state.historic.concat(c)})},t.state={tree:null,currentIssue:null,currentDecisions:[],historic:[],step:0},t}return Object(c.a)(o,[{key:"componentDidMount",value:function(){var t=this,i=window.location.protocol+"//"+window.location.hostname,c=n(74).resolve(e);console.log(c),this.state.tree||u.a.get(i+"/test/MATUI/API/Controllers/lireArbre.php").then((function(e){t.setState({tree:e.data}),t.changeData(e.data.entree[0].ID_Critere)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(b.jsxs)("div",{className:"Quiz",children:[Object(b.jsx)(d.a,{issue:this.state.currentIssue,decisions:this.state.currentDecisions,changeData:this.changeData,step:this.state.step}),Object(b.jsx)(j.a,{historic:this.state.historic,backOut:this.backOut})]})}}]),o}(o.a.Component);t.a=h}).call(this,"/")},41:function(e,t,n){"use strict";n(0);var i=n(11),c=n.n(i),r=n(42),a=n(43),s=n(1);t.a=function(e){return e.issue&&e.decisions?Object(s.jsxs)("div",{className:"Issues",children:[Object(s.jsx)("h3",{children:e.issue.Libelle}),Object(s.jsxs)("p",{className:"step",children:["Question ",e.step]}),Object(s.jsx)("form",{action:"#",children:e.decisions.map((function(e,t){return null==e.ID_Critere_sortant&&(e.ID_Critere_sortant=0),Object(s.jsxs)("div",{children:[Object(s.jsx)("input",{type:"radio",name:"radio-group",value:e.ID_Critere_sortant}),Object(s.jsx)("label",{children:e.Libelle})]},e.ID_Decision)}))}),Object(s.jsxs)("button",{onClick:function(){var t=c()("input:checked").val(),n=e.decisions.find((function(e){return e.ID_Critere_sortant===t}));e.changeData(t,n)},children:["Next",Object(s.jsx)(r.a,{className:"icon",icon:a.a})]})]}):Object(s.jsx)("p",{children:"loading..."})}},44:function(e,t,n){"use strict";n(0);var i=n(1);t.a=function(e){var t=this;function n(t){e.backOut(t.issue.ID_Critere)}return Object(i.jsxs)("div",{className:"Historic",children:[Object(i.jsx)("h3",{children:"Progression"}),Object(i.jsx)("ul",{children:e.historic.map((function(c,r){return console.log(e.historic),Object(i.jsxs)("li",{onClick:n.bind(t,c),children:[Object(i.jsx)("p",{children:c.issue.Libelle}),Object(i.jsx)("p",{children:c.decision?c.decision.Libelle:""})]},r)}))})]})}},50:function(e,t,n){},51:function(e,t,n){},78:function(e,t,n){"use strict";n.r(t);var i=n(0),c=n.n(i),r=n(9),a=n.n(r),s=(n(50),n(18)),o=n(19),l=n(21),u=n(20),d=(n(51),n(12)),j=n(3),b=n(1);var h=function(){return Object(b.jsx)("div",{className:"Home",children:Object(b.jsx)("h1",{children:"Home page"})})},f=n(39),p=n(26),O=n(15),v=n(11),x=n.n(v),g=n(16);var m=function(){var e=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"};return Object(b.jsxs)("aside",{children:[Object(b.jsx)("div",{className:"description",children:"You can drag these nodes to the pane on the right."}),Object(b.jsx)("div",{className:"dndnode input",onDragStart:function(t){return e(t,"input")},draggable:!0,children:"Input Node"}),Object(b.jsx)("div",{className:"dndnode",onDragStart:function(t){return e(t,"default")},draggable:!0,children:"Default Node"}),Object(b.jsx)("div",{className:"dndnode output",onDragStart:function(t){return e(t,"output")},draggable:!0,children:"Output Node"})]})};var D=function(){var e=Object(i.useState)("0"),t=Object(O.a)(e,2),n=t[0],c=t[1],r=Object(i.useState)(null),a=Object(O.a)(r,2),s=a[0],o=a[1],l=Object(i.useState)([{id:"1",type:"input",data:{label:"Start Node"},position:{x:250,y:25}},{id:"2",type:"default",data:{label:"Node"},position:{x:100,y:125}},{id:"3",type:"output",data:{label:"End Node"},position:{x:250,y:250}},{id:"e1-2",source:"1",target:"2",type:"smoothstep",arrowHeadType:"arrowclosed",label:"edge label"},{id:"e2-3",source:"2",target:"3",type:"smoothstep",arrowHeadType:"arrowclosed",label:"edge label"}]),u=Object(O.a)(l,2),d=u[0],j=u[1],h=Object(i.useRef)(null),f=Object(i.useState)(null),v=Object(O.a)(f,2),D=v[0],y=v[1];function C(){return n}return x()(".react-flow__node").each((function(e){var t=x()(this).data("id");t>=n&&c((t+1).toString())})),Object(b.jsx)("div",{className:"Tree",children:Object(b.jsx)(g.a,{children:Object(b.jsxs)("div",{className:"reactflow-wrapper",ref:h,children:[Object(b.jsx)("h1",{children:"Tree"}),Object(b.jsx)("div",{style:{height:600,backgroundColor:"lightgrey"},children:Object(b.jsx)(g.c,{elements:d,onElementsRemove:function(e){return j((function(t){return Object(g.d)(e,t)}))},onConnect:function(e){return j((function(t){return Object(g.b)(Object(p.a)(Object(p.a)({},e),{},{arrowHeadType:"arrowclosed",label:"edge label",type:"smoothstep"}),t)}))},deleteKeyCode:46,onLoad:function(e){return y(e)},onDrop:function(e){e.preventDefault();var t=e.dataTransfer.getData("application/reactflow");if(("input"==t||"output"==t)&&function(e){for(var t=0;t<d.length;t++)if(d[t].type==e)return!0;return!1}(t))return alert("D\xe9sol\xe9, il ne peut y avoir qu'un seul noeud de type "+t);var i=h.current.getBoundingClientRect();!function(e,t){var n={id:C(),type:e,position:t,data:{label:"".concat(e," node")}};j((function(e){return e.concat(n)}))}(t,D.project({x:e.clientX-i.left,y:e.clientY-i.top})),c((parseInt(n)+1).toString())},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onElementClick:function(e,t){e.preventDefault(),function(e){if(!s){var t=x()("div").find("[data-id='".concat(e.id,"']")),n=t.text();t.css("font-size",0),t.append('<input type="text" id="label" name="label" value="'.concat(n,'"/>')),o(t)}}(t)},onPaneClick:function(e){e.preventDefault(),function(){if(s){var e=s.children("input").val();d.forEach((function(t){t.id==s.data("id")&&(t.data.label=e)})),s.children("input").remove(),s.css("font-size","12px"),o(null)}}()}})}),Object(b.jsx)("button",{onClick:function(){console.log(d)},children:"print nodes"}),Object(b.jsx)(m,{})]})})})};var y=function(){return Object(b.jsx)("div",{className:"Navigation",children:Object(b.jsx)("nav",{children:Object(b.jsxs)("ul",{children:[Object(b.jsx)(d.b,{to:"/",children:Object(b.jsx)("li",{children:"Home"})}),Object(b.jsx)(d.b,{to:"/quiz",children:Object(b.jsx)("li",{children:"Quiz"})}),Object(b.jsx)(d.b,{to:"/manageTree",children:Object(b.jsx)("li",{children:"Tree"})})]})})})},C=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(o.a)(n,[{key:"render",value:function(){return Object(b.jsx)(d.a,{children:Object(b.jsxs)("div",{className:"App",children:[Object(b.jsx)(y,{}),Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{path:"/",exact:!0,component:h}),Object(b.jsx)(j.b,{path:"/quiz",exact:!0,component:f.a}),Object(b.jsx)(j.b,{path:"/manageTree",exact:!0,component:D}),Object(b.jsx)(j.a,{to:"/"})," "]})]})})}}]),n}(c.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,79)).then((function(t){var n=t.getCLS,i=t.getFID,c=t.getFCP,r=t.getLCP,a=t.getTTFB;n(e),i(e),c(e),r(e),a(e)}))};a.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(C,{})}),document.getElementById("root")),I()}},[[78,1,2]]]);
//# sourceMappingURL=main.4ec7b7d2.chunk.js.map
(this.webpackJsonptest=this.webpackJsonptest||[]).push([[0],{52:function(e,t,n){},53:function(e,t,n){},80:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),i=n(25),o=n.n(i),a=(n(52),n(2)),r=(n(53),n(10)),l=n(8),d=n(0);var u=function(){return Object(d.jsx)("div",{className:"Loader"})},j=n.p+"static/media/logothedre.414fd0b1.png",h=n.p+"static/media/HomeDemo.db269ae9.png",b=n(4),m=n(5),p=n(3),f=n.n(p);var O=function(e){var t=Object(c.useState)(e.oldDescription),n=Object(a.a)(t,2),s=n[0],i=n[1];function o(){f()(".ModalEditHome").css("display","none"),e.close()}return Object(c.useEffect)((function(){e.open&&f()(".ModalEditHome").css("display","block")}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalEditHome",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsx)("p",{children:e.message}),Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"text",children:Object(d.jsx)("textarea",{className:"textinput",rows:"16",cols:"132",value:s,onChange:function(t){i(t.target.value),e.changeAction(t.target.value)}})})}),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){e.mainAction(),o()},children:e.actionButton}),Object(d.jsx)("button",{className:"button outlined",onClick:o,children:e.closeButton})]})]})})},x=s.a.createContext({isAuthenticated:!1,setIsAuthenticated:function(e){},setUserRole:function(e){},userRole:null}),v=n(7),g=n.n(v);var I=function(){var e=Object(c.useState)(null),t=Object(a.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!1),o=Object(a.a)(i,2),r=o[0],p=o[1],f=Object(c.useState)(null),v=Object(a.a)(f,2),I=v[0],C=v[1],A=Object(c.useContext)(x),D=A.userRole,N=(A.setUserRole,Object(l.g)());function y(){p(!0)}function w(){p(!1)}return Object(c.useEffect)((function(){!function(){var e=window.location.protocol+"//"+window.location.hostname;null===n&&g.a.get(e+"/API/Controllers/accueil/lire.php").then((function(e){s(e.data.description)})).catch((function(e){return console.log(e)}))}()})),null===n?Object(d.jsx)(u,{}):Object(d.jsxs)("div",{className:"Home",children:[Object(d.jsx)("div",{children:Object(d.jsxs)("div",{children:[Object(d.jsxs)("h1",{children:[Object(d.jsx)("strong",{children:"MATUI"}),"'s tree in digital version"]}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:Object(d.jsx)("strong",{children:"What is it ?"})}),Object(d.jsx)("p",{children:"This application helps you to choose a data production method. It is presented in the form of a questionnaire, and your answers will guide you towards methods that you can choose or not. Each method has associated documents to help you apply it."}),Object(d.jsx)("button",{className:"button filled",onClick:function(){N.push("/quiz")},children:"Start now"})]}),Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:h,alt:"Tool demo"})})]})]})}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{children:["More explanation","super-admin"===D&&Object(d.jsx)(b.a,{className:"icon",icon:m.m,onClick:y}),"administrator"===D&&Object(d.jsx)(b.a,{className:"icon",icon:m.m,onClick:y})]}),Object(d.jsxs)("div",{className:"content",children:[Object(d.jsx)("div",{className:"logo",children:Object(d.jsx)("img",{src:j,alt:"Logo Thedre"})}),Object(d.jsx)("p",{children:n})]})]}),Object(d.jsx)(O,{title:"Modify description",message:"Please modify",oldDescription:n,actionButton:"Confirm",closeButton:"Quit",open:r,close:w,mainAction:function(){if(null!==I){var e=JSON.stringify({description:I}),t=window.location.protocol+"//"+window.location.hostname;g.a.put(t+"/API/Controllers/accueil/modifier.php",e).then((function(){g.a.get(t+"/API/Controllers/accueil/lire.php").then((function(e){s(e.data.description)})).catch((function(e){return console.log(e)})),w()})).catch((function(e){console.log(e)}))}w()},changeAction:function(e){C(e)}})]})},C=n(16),A=n.n(C),D=n(30),N=n(21),y=n(22),w=n(24),k=n(23);var E=function(e){var t=s.a.useState(!1),n=Object(a.a)(t,2),c=n[0],i=n[1];return e.issue&&e.decisions?Object(d.jsxs)("div",{className:"Issues",children:[null!=e.issue.Informations?Object(d.jsxs)("h3",{children:[Object(d.jsx)(b.a,{className:"issueInfoIcon",icon:m.k,onClick:function(e){i(!c)}})," ",e.issue.Libelle," "]}):Object(d.jsxs)("h3",{children:[" ",e.issue.Libelle]}),c?Object(d.jsx)("div",{className:"content",children:Object(d.jsx)("p",{"aria-label":"info",children:e.issue.Informations})}):null,Object(d.jsxs)("p",{className:"step",children:["Question ",e.step]}),Object(d.jsx)("form",{action:"#",children:e.decisions.map((function(e,t){return null==e.ID_Critere_sortant&&(e.ID_Critere_sortant=0),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"radio",name:"radio-group",id:e.ID_Decision,value:e.ID_Decision}),Object(d.jsx)("label",{htmlFor:e.ID_Decision,children:e.Libelle})]},e.ID_Decision)}))}),Object(d.jsxs)("button",{onClick:function(){i(!1);var t=f()("input:checked").val(),n=[];if(f.a.each(f()("input"),(function(){n.push(f()(this).val())})),t){var c=e.decisions.find((function(e){return e.ID_Decision===t}));e.changeData(c.ID_Critere_sortant,c,n)}},children:["Next",Object(d.jsx)(b.a,{className:"icon",icon:m.c})]})]}):Object(d.jsx)(u,{})};var M=function(e){function t(){f()(".Modal").css("display","none"),e.close()}return Object(c.useEffect)((function(){e.open&&f()(".Modal").css("display","block")}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalConfirmation",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.title}),e.message&&Object(d.jsx)("p",{children:e.message}),e.component&&s.a.createElement(e.component,[e]),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){e.mainAction(e.mainActionParameters),t()},children:e.mainActionName}),Object(d.jsx)("button",{className:"button outlined",onClick:t,children:"Cancel"})]})]})})};var S=function(e){var t=this,n=Object(c.useState)(!1),s=Object(a.a)(n,2),i=s[0],o=s[1],r=Object(c.useState)(null),l=Object(a.a)(r,2),j=l[0],h=l[1];function p(e){o(!0),h(e)}function f(t){var n,c;"issue"in t&&(n=t.issue.ID_Critere,c="issue"),"method"in t&&(n=t.method.ID_Methode,c="method"),e.backOut(n,c)}return Object(d.jsxs)("div",{className:"Historic",children:[Object(d.jsxs)("div",{className:"historic-header",children:[Object(d.jsx)("h3",{children:"Progression"}),Object(d.jsx)(b.a,{onClick:function(){e.historic.length>1&&f(e.historic[e.historic.length-2])},className:"icon",icon:m.u})]}),e.historic?Object(d.jsx)("ul",{children:e.historic.map((function(e,n){return Object(d.jsxs)("li",{onClick:p.bind(t,e),children:[Object(d.jsx)("p",{title:e.issue?e.issue.Libelle:e.method.Libelle,children:e.issue?e.issue.Libelle:e.method.Libelle}),e.decision&&Object(d.jsx)("p",{children:e.decision.Libelle}),e.checked&&Object(d.jsx)(b.a,{className:"icon",icon:m.b})]},n)}))}):Object(d.jsx)(u,{}),Object(d.jsx)(M,{title:"Warning",message:"Do you really want to come back at this step ? Any selected method will be lost.",open:i,close:function(){o(!1)},mainAction:f,mainActionParameters:j,mainActionName:"Come Back"})]})};var R=function(e){var t=Object(c.useState)(!1),n=Object(a.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(null),r=Object(a.a)(o,2),l=r[0],u=r[1];return Object(c.useEffect)((function(){!function(){var t=window.location.protocol+"//"+window.location.hostname,n=JSON.stringify({id_methode:Number(e.method.ID_Methode)});g.a.post(t+"/API/Controllers/ressource/lireRessourcesMethode.php",n).then((function(e){u(e.data)})).catch((function(e){return console.log(e)}))}()}),[]),Object(c.useEffect)((function(){e.checkedMethod(e.method,s)}),[s]),Object(d.jsxs)("div",{className:"Method",children:[Object(d.jsxs)("div",{className:"methodCard",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("div",{className:"informations",children:[Object(d.jsx)("h3",{children:e.method.Libelle}),Object(d.jsx)("p",{children:e.method.Description}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.z}),Object(d.jsx)("p",{children:"workforce"}),Object(d.jsx)("p",{children:e.method.Effectif_preconise})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.i}),Object(d.jsx)("p",{children:"produced data"}),Object(d.jsx)("p",{children:e.method.Donnees_produites})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.d}),Object(d.jsx)("p",{children:"method"}),Object(d.jsx)("p",{children:e.method.Type_methode})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.a}),Object(d.jsx)("p",{children:"analysis"}),Object(d.jsx)("p",{children:e.method.Type_analyse})]})]}),Object(d.jsx)("p",{children:e.method.Exemple})]}),l?Object(d.jsx)("div",{className:"ressources",children:l.map((function(e,t){return Object(d.jsxs)("div",{onClick:function(){return function(e){var t=window.location.protocol+"//"+window.location.hostname;window.open(t+"/API/documentsRessources/"+e)}(e.Nom)},className:"ressource",children:[Object(d.jsx)(b.a,{className:"icon",icon:m.g}),Object(d.jsx)("p",{title:e.Nom,children:e.Nom})]},t)}))}):Object(d.jsx)("p",{children:"No ressources"})]}),Object(d.jsxs)("div",{className:"footer",children:[Object(d.jsxs)("label",{className:"switch",children:[Object(d.jsx)("input",{onChange:function(){i(!s)},type:"checkbox"}),Object(d.jsx)("span",{className:"slider round"})]}),Object(d.jsx)("span",{children:"retain this method"})]})]}),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button outlined",onClick:function(){e.changeData(0)},children:"Finish"}),Object(d.jsx)("button",{className:"button filled",onClick:function(){e.resumeQuiz()},children:"Continue"})]})]})},T=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(e){var c;return Object(N.a)(this,n),(c=t.call(this,e)).changeData=function(){var e=Object(D.a)(A.a.mark((function e(t){var n,s,i,o,a,r,l=arguments;return A.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:null,s=l.length>2&&void 0!==l[2]?l[2]:null,i=!(l.length>3&&void 0!==l[3])||l[3],o=l.length>4&&void 0!==l[4]&&l[4],c.setState({checkedDecision:n}),!(a=c.checkMethod(n))){e.next=10;break}c.manageMethod(n,a),e.next=17;break;case 10:if(0===t){e.next=14;break}s?(s.forEach((function(e){0===c.state.tree.decisions.find((function(t){return t.ID_Decision===e})).ID_Critere_sortant&&(r=!0)})),r?(c.addRetainedMethods(),c.setState({historic:[],step:0},(function(){c.manageStoreData(t,n,i,o)}))):c.manageStoreData(t,n,i,o)):c.manageStoreData(t,n,i,o),e.next=17;break;case 14:return e.next=16,c.addRetainedMethods();case 16:c.props.history.push({pathname:"/summary",state:{retainedMethods:c.state.retainedMethods}});case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.manageStoreData=function(e,t,n,s){var i=c.state.tree.criteres.find((function(t){return t.ID_Critere===e})),o=c.state.tree.decisions.filter((function(e){return e.ID_Critere_entrant===i.ID_Critere})),a=c.state.currentIssue;c.setState({currentIssue:i,currentDecisions:o,step:c.state.step+1},(function(){if(n&&c.manageHistoric(t,a),s){var e={issue:c.state.currentIssue,decision:null};c.setState({historic:c.state.historic.concat(e)})}}))},c.manageMethod=function(e,t){var n=c.state.historic.slice();n[n.length-1].decision=e,c.setState({historic:n});var s={method:t,checked:!1};c.setState({historic:c.state.historic.concat(s)})},c.checkedMethod=function(e,t){var n;c.state.historic.forEach((function(t){"method"in t&&t.method.ID_Methode===e.ID_Methode&&(n=c.state.historic.indexOf(t))}));var s={method:e,checked:t},i=c.state.historic.slice();i[n]=s,c.setState({historic:i})},c.checkMethod=function(e){if(e){var t=c.state.tree.methodes.find((function(t){return t.ID_Decision===e.ID_Decision}));if(t)return c.setState({currentMethod:t}),t}},c.addRetainedMethods=function(){return new Promise((function(e,t){var n=[];c.state.historic.forEach((function(e){"method"in e&&(e.checked&&(c.state.retainedMethods.length?c.state.retainedMethods.filter((function(t){return t.method.ID_Methode===e.method.ID_Methode})).length||n.push(e):(console.log("PAR LA"),n.push(e))))})),console.log(n),c.setState({retainedMethods:c.state.retainedMethods.concat(n)},(function(){return e()}))}))},c.backOut=function(e,t){if("issue"===t)c.state.currentMethod?c.setState({currentMethod:null},(function(){c.backIssue(e)})):c.backIssue(e);else{var n;c.state.historic.forEach((function(t){"method"in t&&t.method.ID_Methode===e&&(n=c.state.historic.indexOf(t))}));var s=c.state.historic[n-1].decision;c.state.historic.length=n,c.setState({step:n}),c.changeData(s.ID_Critere_sortant,s,null,!1)}},c.backIssue=function(e){var t;c.changeData(e,null,null,!1),c.state.historic.forEach((function(n){"issue"in n&&n.issue.ID_Critere===e&&(t=c.state.historic.indexOf(n))})),c.state.historic.length=t+1,c.state.historic[t].decision=null,c.setState({step:t+1})},c.manageHistoric=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;c.state.historic.forEach((function(n){"issue"in n&&n.issue.ID_Critere===t.ID_Critere&&(n.decision=e)}));var n={issue:c.state.currentIssue,decision:null};c.setState({historic:c.state.historic.concat(n)})},c.resumeQuiz=function(){c.setState({currentMethod:null},(function(){c.changeData(c.state.checkedDecision.ID_Critere_sortant,null,null,!1,!0)}))},c.state={tree:null,checkedDecision:null,currentMethod:null,currentIssue:null,retainedMethods:[],currentDecisions:[],historic:[],step:0},c}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=window.location.protocol+"//"+window.location.hostname;this.state.tree||g.a.get(t+"/API/Controllers/lireArbre.php").then((function(t){e.setState({tree:t.data}),e.changeData(t.data.entree[0].ID_Critere)})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"Quiz",children:[this.state.currentMethod?Object(d.jsx)(R,{method:this.state.currentMethod,checkedDecision:this.state.checkedDecision,changeData:this.changeData,resumeQuiz:this.resumeQuiz,checkedMethod:this.checkedMethod,historic:this.state}):Object(d.jsx)(E,{issue:this.state.currentIssue,decisions:this.state.currentDecisions,changeData:this.changeData,step:this.state.step}),Object(d.jsxs)("div",{className:"aside",children:[Object(d.jsx)(S,{historic:this.state.historic,backOut:this.backOut}),this.state.retainedMethods.length?Object(d.jsxs)("div",{className:"retainedMethods",children:[Object(d.jsx)("div",{className:"retainedMethods-header",children:Object(d.jsx)("h3",{children:"Retained methods"})}),this.state.retainedMethods.map((function(e,t){return Object(d.jsx)("div",{children:Object(d.jsx)("p",{children:e.method.Libelle})},t)}))]}):Object(d.jsx)("div",{})]})]})}}]),n}(s.a.Component),P=n(47),L=n(26),V=n(17);var U=function(e){var t=function(e,t){e.dataTransfer.setData("application/reactflow",t),e.dataTransfer.effectAllowed="move"};return Object(d.jsxs)("aside",{className:"Toolbar",children:[Object(d.jsx)("div",{className:"dndnode input",onDragStart:function(e){return t(e,"input")},draggable:!0,children:"Input Node"}),Object(d.jsx)("div",{className:"dndnode critereNode",onDragStart:function(e){return t(e,"critereNode")},draggable:!0,children:"Default Node"}),Object(d.jsx)("div",{className:"dndnode default",onDragStart:function(e){return t(e,"default")},draggable:!0,children:"Method Node"}),Object(d.jsx)("div",{className:"dndnode output",onDragStart:function(e){return t(e,"output")},draggable:!0,children:"Output Node"}),Object(d.jsx)("button",{className:"save button filled",onClick:e.save,children:Object(d.jsx)(b.a,{className:"icon",icon:m.p})})]})},F=Object(c.memo)((function(e){var t=e.data;return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(V.a,{type:"target",position:"top",style:{background:"#555"},onConnect:function(e){return console.log("handle onConnect",e)}}),Object(d.jsx)("div",{className:"critereNode",children:t.label}),Object(d.jsx)(V.a,{type:"source",position:"bottom",style:{background:"#555"},onConnect:function(e){return console.log("handle onConnect",e)}})]})})),B=Object(c.memo)((function(){return Object(d.jsx)(d.Fragment,{children:Object(d.jsx)("div",{className:"debugNode",children:"Debug node"})})}));var W=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(null),r=Object(a.a)(o,2),l=r[0],u=r[1];function j(){f()(".ModalEditCritere").css("display","none"),e.close(),i(null)}return Object(c.useEffect)((function(){e.open&&(f()(".ModalEditCritere").css("display","block"),i(e.selectedCritere),u(e.title))}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalEditCritere",children:l&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:l}),Object(d.jsxs)("div",{children:[s&&Object(d.jsxs)("form",{children:[Object(d.jsx)("label",{for:"label",children:"label"}),Object(d.jsx)("input",{type:"text",id:"label",name:"label",placeholder:"",defaultValue:s.data.label}),Object(d.jsx)("label",{for:"informations",children:"additional informations"}),Object(d.jsx)("textarea",{type:"text",id:"informations",name:"informations",placeholder:"",defaultValue:s.data.informations})]}),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){var t=f()("#label").val(),n=f()("#informations").val();e.mainAction(t,n),j()},children:"Save"}),Object(d.jsx)("button",{className:"button outlined",onClick:j,children:"Cancel"})]})]})]})})};var Q=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(null),r=Object(a.a)(o,2),l=r[0],u=r[1];function j(){f()(".ModalEditEdge").css("display","none"),e.close(),i(null)}return Object(c.useEffect)((function(){e.open&&(f()(".ModalEditEdge").css("display","block"),i(e.selectedEdge),u(e.title))}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalEditEdge",children:l&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:l}),Object(d.jsxs)("div",{children:[s&&Object(d.jsx)("form",{children:Object(d.jsx)("input",{type:"text",id:"label",name:"label",placeholder:"label",defaultValue:s.label})}),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){var t=f()("#label").val();e.mainAction(t),j()},children:"Save"}),Object(d.jsx)("button",{className:"button outlined",onClick:j,children:"Cancel"})]})]})]})})};var J=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(null),r=Object(a.a)(o,2),l=r[0],u=r[1],j=Object(c.useState)(null),h=Object(a.a)(j,2),p=h[0],O=h[1],x=Object(c.useState)(null),v=Object(a.a)(x,2),g=v[0],I=v[1];function C(){f()(".ModalEditMethod").css("display","none"),e.close(),i(null)}return Object(c.useEffect)((function(){e.open&&(f()(".ModalEditMethod").css("display","block"),i(e.selectedMethod),I(e.title),O(e.initialTree.ressources),function(e,t,n){var c=t.filter((function(e){return e.ID_Methode===n.id.slice(1)})),s=[];c.forEach((function(t){var n=e.find((function(e){return e.ID_Ressource===t.ID_Ressource}));s.push(n)})),u(s)}(e.initialTree.ressources,e.initialTree.methodesRessources,e.selectedMethod))}),[e.open]),Object(c.useEffect)((function(){s&&e.resources&&u(e.resources[s.id.slice(1)])}),[s]),Object(d.jsx)("div",{className:"Modal ModalEditMethod",children:g&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:g}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{className:"content",children:[s&&Object(d.jsxs)("form",{children:[Object(d.jsx)("label",{htmlFor:"label",children:"label"}),Object(d.jsx)("input",{type:"text",id:"label",name:"label",placeholder:"",defaultValue:s.data.label}),Object(d.jsx)("label",{htmlFor:"label",children:"description"}),Object(d.jsx)("input",{type:"text",id:"description",name:"description",placeholder:"",defaultValue:s.data.description}),Object(d.jsx)("label",{htmlFor:"label",children:"workforce"}),Object(d.jsx)("input",{type:"text",id:"workforce",name:"workforce",placeholder:"",defaultValue:s.data.workforce}),Object(d.jsx)("label",{htmlFor:"label",children:"producted data"}),Object(d.jsx)("input",{type:"text",id:"productedData",name:"productedData",placeholder:"",defaultValue:s.data.productedData}),Object(d.jsx)("label",{htmlFor:"label",children:"method"}),Object(d.jsx)("input",{type:"text",id:"method",name:"method",placeholder:"",defaultValue:s.data.method}),Object(d.jsx)("label",{htmlFor:"label",children:"analysis"}),Object(d.jsx)("input",{type:"text",id:"analysis",name:"analysis",placeholder:"",defaultValue:s.data.analysis}),Object(d.jsx)("label",{htmlFor:"label",children:"exemple"}),Object(d.jsx)("input",{type:"text",id:"exemple",name:"exemple",placeholder:"",defaultValue:s.data.exemple})]}),Object(d.jsxs)("div",{className:"ressources",children:[Object(d.jsxs)("div",{className:"selector",children:[p&&Object(d.jsxs)("select",{name:"pets",id:"pet-select",children:[Object(d.jsx)("option",{value:"",children:"Choose method"}),p.map((function(e,t){if(!l.find((function(t){return t.ID_Ressource===e.ID_Ressource})))return Object(d.jsx)("option",{value:e.ID_Ressource,children:e.Nom},t)}))]}),Object(d.jsx)("button",{onClick:function(){var t=f()("select").val();if(t){var n=e.initialTree.ressources.find((function(e){return e.ID_Ressource===t.toString()}));u(l.concat(n))}},children:Object(d.jsx)(b.a,{className:"icon",icon:m.n})})]}),l&&Object(d.jsx)("div",{children:Object.keys(l).map((function(e,t){return Object(d.jsxs)("div",{className:"item",children:[Object(d.jsx)("p",{onClick:function(){return function(e){var t=window.location.protocol+"//"+window.location.hostname;window.open(t+"/reactTest/MATUI/src/public/documentsRessources/"+e)}(l[e].Nom)},children:l[e].Nom}),Object(d.jsx)(b.a,{onClick:function(){return function(e){if(e){var t=l.find((function(t){return t.ID_Ressource===e.toString()})),n=l.indexOf(t);u(l.filter((function(e){return l.indexOf(e)!==n})))}}(l[e].ID_Ressource)},className:"icon",icon:m.l})]},e)}))})]})]}),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){var t={label:f()("#label").val(),description:f()("#description").val(),productedData:f()("#productedData").val(),workforce:f()("#workforce").val(),method:f()("#method").val(),analysis:f()("#analysis").val(),exemple:f()("#exemple").val()};e.mainAction(t,l),C()},children:"Save"}),Object(d.jsx)("button",{className:"button outlined",onClick:C,children:"Cancel"})]})]})]})})};var z=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(null),r=Object(a.a)(o,2),l=r[0],u=r[1];function j(){f()(".ModalEditEndNode").css("display","none"),e.close(),i(null)}return Object(c.useEffect)((function(){e.open&&(f()(".ModalEditEndNode").css("display","block"),i(e.selectedEndNode),u(e.title))}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalEditEndNode",children:l&&Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:l}),Object(d.jsxs)("div",{children:[s&&Object(d.jsx)("form",{children:Object(d.jsx)("input",{type:"text",id:"message",name:"message",placeholder:"message",defaultValue:s.data.message})}),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){var t=f()("#message").val();e.mainAction(t),j()},children:"Save"}),Object(d.jsx)("button",{className:"button outlined",onClick:j,children:"Cancel"})]})]})]})})};var _=function(e){return Object(c.useEffect)((function(){e.open&&f()(".ModalWarning").css("display","block")}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalWarning",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Warning !"}),Object(d.jsxs)("strong",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.f}),"cannot save"]}),e.message&&Object(d.jsx)("p",{children:e.message}),Object(d.jsx)("div",{className:"action",children:Object(d.jsx)("button",{className:"button filled",onClick:function(){f()(".ModalWarning").css("display","none"),e.close()},children:"Cancel"})})]})})};var Y=function(e){return Object(c.useEffect)((function(){e.open&&f()(".ModalInformation").css("display","block")}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalInformation",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Succes !"}),Object(d.jsx)("p",{children:"Tree has been save"}),Object(d.jsx)("div",{className:"action",children:Object(d.jsx)("button",{className:"button filled",onClick:function(){f()(".ModalInformation").css("display","none"),e.close()},children:"Cancel"})})]})})};var q=function(){var e={critereNode:F,debugNode:B},t=["black","marron","blue","red","purple","fushia","green","lime","yellow","navy","aqua","aquamarine","chocolate","coral","crimson","darkcyan","darkgreen","darkorange","darkseagreen","deeppink","gold","indgo","lightcoral"],n=Object(c.useState)(null),s=Object(a.a)(n,2),i=s[0],o=s[1],r=Object(c.useState)("1"),l=Object(a.a)(r,2),j=l[0],h=l[1],p=Object(c.useState)("D1"),O=Object(a.a)(p,2),x=O[0],v=O[1],I=Object(c.useState)("M1"),C=Object(a.a)(I,2),A=C[0],D=C[1],N=Object(c.useState)([]),y=Object(a.a)(N,2),w=y[0],k=y[1],E=Object(c.useState)(!1),S=Object(a.a)(E,2),R=S[0],T=S[1],q=Object(c.useState)(null),G=Object(a.a)(q,2),X=G[0],K=G[1],H=Object(c.useRef)(null),Z=Object(c.useState)(null),$=Object(a.a)(Z,2),ee=$[0],te=$[1];function ne(){return A}function ce(e,t,n){var c;switch(e){case"input":c={id:"0",type:e,position:t,data:{label:"".concat(e," node")}};break;case"output":c={id:"S0",type:e,position:t,data:{label:"".concat(e," node"),message:n?n.Message:null}};break;case"critereNode":n?c={id:n.ID_Critere,type:e,position:t,data:{label:n.Libelle,informations:n.Informations?n.Informations:null}}:(c={id:j,type:e,position:t,data:{label:"default critere label"}},h((parseInt(j)+1).toString()));break;case"default":n?c={id:"M"+n.ID_Methode,type:e,position:t,data:{label:n.Libelle,description:n.Description,productedData:n.Donnees_produites,workforce:n.Effectif_preconise,method:n.Type_methode,analysis:n.Type_analyse,exemple:n.Exemple}}:(c={id:ne(),type:e,position:t,data:{label:"default method label"}},D("M"+(parseInt(ne().slice(1))+1).toString()))}k((function(e){return e.concat(c)}))}function se(e,t,n,c,s){var i={id:e,source:t,target:n,type:"smoothstep",arrowHeadType:"arrowclosed",label:c,style:{stroke:s}};k((function(e){return e.concat(i)}))}function ie(){var e=i.entree[0];ce("input",{x:parseInt(e.x),y:parseInt(e.y)});var n=i.criteres.find((function(e){return e.ID_Critere===i.entree[0].ID_Critere}));ce("critereNode",{x:parseInt(n.x),y:parseInt(n.y)},n),se("D0","0",n.ID_Critere,null);var c,s=i.sortie[0];ce("output",{x:parseInt(s.x),y:parseInt(s.y)},s),c=i.entree[0].ID_Critere,i.criteres.forEach((function(e){var n,s=t[0];t.splice(0,1),e.ID_Critere!==c&&ce("critereNode",{x:parseInt(e.x),y:parseInt(e.y)},e),(n=e.ID_Critere,i.decisions.filter((function(e){return e.ID_Critere_entrant===n}))).forEach((function(t){var n=function(e){return i.methodes.find((function(t){return t.ID_Decision===e.ID_Decision}))}(t);n?(ce("default",{x:parseInt(n.x),y:parseInt(n.y)},n),se("D"+t.ID_Decision,e.ID_Critere,"M"+n.ID_Methode,t.Libelle,s),se("DM"+t.ID_Decision,"M"+n.ID_Methode,t.ID_Critere_sortant,null,s)):t.ID_Critere_sortant?se("D"+t.ID_Decision,t.ID_Critere_entrant,t.ID_Critere_sortant,t.Libelle,s):se("D"+t.ID_Decision,t.ID_Critere_entrant,"S0",t.Libelle,s)}))}))}Object(c.useEffect)((function(){R?(f()(".canvas").addClass("removeMode"),f()(".removeModeMessage").css("opacity","1"),f()(".Toolbar").css({"pointer-events":"none",filter:"grayscale(1)"})):(f()(".canvas").removeClass("removeMode"),f()(".removeModeMessage").css("opacity","0"),f()(".Toolbar").css({"pointer-events":"auto",filter:"none"}))}),[R]),Object(c.useEffect)((function(){if(!i){var e=window.location.protocol+"//"+window.location.hostname;g.a.get(e+"/API/Controllers/lireArbre.php").then((function(e){o(e.data)})).catch((function(e){return console.log(e)}))}}),[]),Object(c.useEffect)((function(){i&&(i.entree.length&&i.sortie.length?(ie(),function(){var e=0;i.decisions.forEach((function(t){parseInt(t.ID_Decision)>=e&&(e=t.ID_Decision)})),v("D"+(parseInt(e)+1).toString())}(),function(){var e=0;i.methodes.forEach((function(t){parseInt(t.ID_Methode)>=e&&(e=t.ID_Methode)})),D("M"+(parseInt(e)+1).toString())}(),function(){var e=0;i.criteres.forEach((function(t){parseInt(t.ID_Critere)>=e&&(e=t.ID_Critere)})),h((parseInt(e)+1).toString())}()):(i.methodes.length||i.criteres.length||i.decisions.length)&&alert("Something went wrong, tree cannot be built"))}),[i]);var oe=Object(c.useState)(!1),ae=Object(a.a)(oe,2),re=ae[0],le=ae[1];Object(c.useEffect)((function(){X&&le(!0)}),[X]);var de=Object(c.useState)(!1),ue=Object(a.a)(de,2),je=ue[0],he=ue[1],be=Object(c.useState)(!1),me=Object(a.a)(be,2),pe=me[0],fe=me[1],Oe=Object(c.useState)(null),xe=Object(a.a)(Oe,2),ve=xe[0],ge=xe[1],Ie=Object(c.useState)(null),Ce=Object(a.a)(Ie,2),Ae=Ce[0],De=Ce[1];function Ne(e){fe(!0),ge("Do you want to delete this element ?"),De(e)}var ye=Object(c.useState)(!1),we=Object(a.a)(ye,2),ke=we[0],Ee=we[1],Me=Object(c.useState)(null),Se=Object(a.a)(Me,2),Re=Se[0],Te=Se[1],Pe=Object(c.useState)(!1),Le=Object(a.a)(Pe,2),Ve=Le[0],Ue=Le[1],Fe=Object(c.useState)(null),Be=Object(a.a)(Fe,2),We=Be[0],Qe=Be[1],Je=Object(c.useState)(!1),ze=Object(a.a)(Je,2),_e=ze[0],Ye=ze[1],qe=Object(c.useState)(null),Ge=Object(a.a)(qe,2),Xe=Ge[0],Ke=Ge[1],He=Object(c.useState)(!1),Ze=Object(a.a)(He,2),$e=Ze[0],et=Ze[1],tt=Object(c.useState)(null),nt=Object(a.a)(tt,2),ct=nt[0],st=nt[1];function it(){var e=Object(P.a)(w);k(e)}return Object(d.jsx)("div",{className:"Tree",children:w?Object(d.jsxs)(V.b,{children:[Object(d.jsxs)("div",{className:"reactflow-wrapper",ref:H,children:[Object(d.jsx)(U,{className:"tools",save:function(){var e=ee.toObject(),t={criteres:[],methodes:[],methodesRessources:i.methodesRessources,decisions:[],entree:[],sortie:[]};if(e.elements.forEach((function(n){var c;switch(n.type){case"critereNode":c=function(e){return{ID_Critere:e.id,Libelle:e.data.label,Informations:e.data.informations?e.data.informations:null,x:e.position.x,y:e.position.y}}(n),t.criteres.push(c);break;case"default":c=function(e,t){var n=t.elements.find((function(t){return"smoothstep"===t.type&&t.target===e.id}));return{ID_Methode:e.id.slice(1),ID_Decision:n?n.id.slice(1):null,Libelle:e.data.label,Description:e.data.description,Donnees_produites:e.data.productedData,Effectif_preconise:e.data.workforce,Exemple:e.data.exemple,Type_analyse:e.data.analysis,Type_methode:e.data.method,x:e.position.x,y:e.position.y}}(n,e),t.methodes.push(c);break;case"smoothstep":n.label&&(c=function(e,t){var n;e.target.includes("M")&&(n=t.elements.find((function(t){return"smoothstep"===t.type&&t.source===e.target})));return{ID_Decision:e.id.slice(1),ID_Critere_entrant:e.source,ID_Critere_sortant:n?n.target:e.target,Libelle:e.label}}(n,e),t.decisions.push(c));break;case"input":c=function(e,t){var n=t.elements.find((function(t){return"smoothstep"===t.type&&t.source===e.id}));return{ID_Entree:e.id,ID_Critere:n?n.target:null,x:e.position.x,y:e.position.y}}(n,e),t.entree.push(c);break;case"output":c=function(e){return{ID_Sortie:1,message:e.data.message,x:e.position.x,y:e.position.y}}(n),t.sortie.push(c)}})),!function(e){var t=!1;1!=e.entree.length?(K("Tree must have start node"),t=!0):1!=e.sortie.length?(K("Tree must have end node"),t=!0):e.criteres.length||(K("Tree must have node"),t=!0);if(!t){var n=function(e){var t=!0;return e.criteres.forEach((function(n){var c=null,s=null;c=e.decisions.filter((function(e){return e.ID_Critere_entrant===n.ID_Critere})),(s=e.decisions.filter((function(e){return e.ID_Critere_sortant===n.ID_Critere}))).length||e.entree[0].ID_Critere===n.ID_Critere&&s.push(e.entree[0]),s.length&&c.length||(t=!1),c.forEach((function(e){"M"===e.ID_Critere_sortant.charAt(0)&&(t=!1)}))})),!t&&(K("There is a floating node somewhere, check that each edge has a label (except output edge from the start node and methods) and that each critere is connected"),!0)}(e),c=function(e){var t=!0;switch(e.methodes.forEach((function(n){if(n.ID_Decision){var c=e.decisions.find((function(e){return e.ID_Decision===n.ID_Decision}));c?"S0"==c.ID_Critere_sortant&&(t=!1):t=!1}else t=!1})),t){case!0:return!1;case!1:return X||K("There is a floating method somewhere, check that each edge has a label and that each method is connected"),!0}}(e);(n||c)&&(t=!0)}return t}(t)){var n=window.location.protocol+"//"+window.location.hostname;g.a.post(n+"/API/Controllers/creerArbre.php",t).then((function(e){he(!0)})).catch((function(e){return console.log(e)}))}}}),Object(d.jsx)("div",{className:"canvas",children:Object(d.jsx)(V.d,{elements:w,nodeTypes:e,onElementsRemove:function(e){return k((function(t){return Object(V.e)(e,t)}))},onConnect:function(e){return k((function(t){return Object(V.c)(Object(L.a)(Object(L.a)({},e),{},{id:x,arrowHeadType:"arrowclosed",label:"",type:"smoothstep"}),t,v("D"+(parseInt(x.slice(1))+1).toString()))}))},onLoad:te,onDrop:function(e){e.preventDefault();var t=e.dataTransfer.getData("application/reactflow");if((null!=t&&"input"==t||"output"==t)&&function(e){if(w){for(var t=0;t<w.length;t++)if(w[t].type==e)return!0;return!1}return!0}(t))return alert("D\xe9sol\xe9, il ne peut y avoir qu'un seul noeud de type "+t);var n=H.current.getBoundingClientRect(),c=f()("aside").width();console.log(n.left),ce(t,ee.project({x:e.clientX-(n.left+c),y:e.clientY-n.top}))},onDragOver:function(e){e.preventDefault(),e.dataTransfer.dropEffect="move"},onElementClick:function(e,t){if(R)"smoothstep"!=t.type&&w.filter((function(e){return"smoothstep"===e.type})).filter((function(e){return e.source===t.id||e.target===t.id})).length>0?alert("You must remove all edges from this element"):Ne(t);else switch(t.type){case"critereNode":!function(e){var t=w.find((function(t){return t.id===e.id}));Te(t),Ee(!0)}(t);break;case"default":!function(e){var t=w.find((function(t){return t.id===e.id}));Ke(t),Ye(!0)}(t);break;case"smoothstep":!function(e){var t=w.find((function(t){return t.id===e.id}));Qe(t),Ue(!0)}(t);break;case"input":alert("Cannot modify start node");break;case"output":!function(e){var t=w.find((function(t){return t.id===e.id}));st(t),et(!0)}(t)}},onPaneClick:function(e){e.preventDefault()}})}),Object(d.jsx)(b.a,{onClick:function(){T(!R)},className:"icon delete",icon:m.t}),Object(d.jsx)("p",{className:"removeModeMessage",children:"Warning, you activated the suppression mode"})]}),Object(d.jsx)(W,{title:"Edit critere",open:ke,close:function(){Ee(!1)},mainAction:function(e,t){Re.data.label=e,t&&(Re.data.informations=t),Re.position={x:Re.position.x,y:Re.position.y+1},it()},selectedCritere:Re}),Object(d.jsx)(Q,{title:"Edit Edge",open:Ve,close:function(){Ue(!1)},mainAction:function(e){We.label=e,it()},selectedEdge:We}),Object(d.jsx)(J,{title:"Edit Method",open:_e,close:function(){Ye(!1)},mainAction:function(e,t){Xe.data.label=e.label,Xe.data.description=e.description,Xe.data.productedData=e.productedData,Xe.data.workforce=e.workforce,Xe.data.method=e.method,Xe.data.analysis=e.analysis,Xe.data.exemple=e.exemple;var n=i.methodesRessources.filter((function(e){return e.ID_Methode===Xe.id.slice(1)}));t.forEach((function(e){if(!n.filter((function(t){return t.ID_Ressource===e.ID_Ressource})).length){var t={ID_Methode:Xe.id.slice(1),ID_Ressource:e.ID_Ressource};i.methodesRessources.push(t)}})),i.methodesRessources.forEach((function(e){if(!t.filter((function(t){return t.ID_Ressource===e.ID_Ressource})).length){var n=i.methodesRessources.indexOf(e);i.methodesRessources=i.methodesRessources.filter((function(e){return i.methodesRessources.indexOf(e)!==n}))}})),Xe.position={x:Xe.position.x,y:Xe.position.y+1},it()},selectedMethod:Xe,initialTree:i}),Object(d.jsx)(z,{title:"Edit End node",open:$e,close:function(){et(!1)},mainAction:function(e){ct.data.message=e,ct.position={x:ct.position.x,y:ct.position.y+1},it()},selectedEndNode:ct}),Object(d.jsx)(_,{message:X,open:re,close:function(){K(null),le(!1)}}),Object(d.jsx)(Y,{open:je,close:function(){he(!1)}}),Object(d.jsx)(M,{title:"Warning",message:ve,open:pe,close:function(){fe(!1)},mainAction:function(e){var t=w.find((function(t){return t.id===e.id})),n=w.indexOf(t);k(w.filter((function(e){return w.indexOf(e)!==n})))},mainActionParameters:Ae,mainActionName:"Delete"})]}):Object(d.jsx)(u,{})})},G=n(15);var X=function(e){function t(){f()(".ModalEditRole").css("display","none"),e.close()}return Object(c.useEffect)((function(){e.open&&f()(".ModalEditRole").css("display","block")}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalEditRole",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsx)("p",{children:e.message}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("select",{id:"select",onChange:function(t){e.changeAction(t.target.value)},children:[Object(d.jsx)("option",{id:"option",value:"administrator",children:"Administrator"}),Object(d.jsx)("option",{id:"option",value:"user",children:"User"}),Object(d.jsx)("option",{id:"option",value:"super-admin",children:"Super-administrator"})]}),Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){e.mainAction(e.mainActionParameters),t()},children:e.actionButton}),Object(d.jsx)("button",{className:"button outlined",onClick:t,children:e.closeButton})]})]})]})})};var K=function(e){function t(){f()(".ModalDeleteUser").css("display","none"),e.close()}return Object(c.useEffect)((function(){e.open&&f()(".ModalDeleteUser").css("display","block")}),[e.open]),Object(d.jsx)("div",{className:"Modal ModalDeleteUser",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:e.title}),Object(d.jsx)("p",{children:e.message}),Object(d.jsx)("div",{children:Object(d.jsxs)("div",{className:"action",children:[Object(d.jsx)("button",{className:"button filled",onClick:function(){e.mainAction(e.mainActionParameters),t()},children:e.actionButton}),Object(d.jsx)("button",{className:"button outlined",onClick:t,children:e.closeButton})]})})]})})},H=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(e){var c;return Object(N.a)(this,n),(c=t.call(this,e)).delete=function(e){if(null!==e){var t=window.location.protocol+"//"+window.location.hostname,n=JSON.stringify({id:Number(e)});g()({method:"delete",url:t+"/API/Controllers/utilisateur/supprimerUtilisateur.php",data:n}).then((function(e){g.a.get(t+"/API/Controllers/utilisateur/lireUtilisateur.php").then((function(e){c.setState({users:e.data})})).catch((function(e){return console.log(e)})),c.handleCloseDelete()})).catch((function(e){console.log(e)}))}},c.state={users:null,modalEditOpen:!1,modalDeleteOpen:!1,idUser:null,currentRole:null,newRole:"user"},c.componentDidMount=c.componentDidMount.bind(Object(G.a)(c)),c.edit=c.edit.bind(Object(G.a)(c)),c.delete=c.delete.bind(Object(G.a)(c)),c.handleCloseEdit=c.handleCloseEdit.bind(Object(G.a)(c)),c.handleCloseDelete=c.handleCloseDelete.bind(Object(G.a)(c)),c.handleClickOpenDelete=c.handleClickOpenDelete.bind(Object(G.a)(c)),c.handleClickOpenEdit=c.handleClickOpenEdit.bind(Object(G.a)(c)),c}return Object(y.a)(n,[{key:"handleClickOpenEdit",value:function(e,t){this.setState({modalEditOpen:!0,idUser:e,currentRole:t},(function(){}))}},{key:"handleCloseEdit",value:function(){this.setState({modalEditOpen:!1})}},{key:"handleClickOpenDelete",value:function(){this.setState({modalDeleteOpen:!0})}},{key:"handleCloseDelete",value:function(){this.setState({modalDeleteOpen:!1})}},{key:"handleChange",value:function(e){this.setState({newRole:e})}},{key:"componentDidMount",value:function(){var e=this;if(null===this.state.users){var t=window.location.protocol+"//"+window.location.hostname;g.a.get(t+"/API/Controllers/utilisateur/lireUtilisateur.php").then((function(t){e.setState({users:t.data})})).catch((function(e){return console.log(e)}))}}},{key:"edit",value:function(e){var t=this;if(null!==this.state.idUser&&null!==e){var n=window.location.protocol+"//"+window.location.hostname,c=JSON.stringify({id_utilisateur:this.state.idUser,role:e});g()({method:"put",url:n+"/API/Controllers/utilisateur/modifierUtilisateur.php",data:c}).then((function(e){g.a.get(n+"/API/Controllers/utilisateur/lireUtilisateur.php").then((function(e){t.setState({users:e.data})})).catch((function(e){return console.log(e)})),t.handleCloseEdit()})).catch((function(e){console.log(e)}))}}},{key:"chargeData",value:function(){var e=[];for(var t in this.state.users)if(this.state.users.hasOwnProperty(t)){var n=[];n.push(Object(d.jsxs)("div",{className:"row",children:[Object(d.jsx)("p",{title:this.state.users[t].Pseudo,children:this.state.users[t].Pseudo}),Object(d.jsx)("p",{title:this.state.users[t].Mail,children:this.state.users[t].Mail}),Object(d.jsx)("p",{title:this.state.users[t].Role,children:this.state.users[t].Role}),Object(d.jsx)(b.a,{icon:m.m,onClick:this.handleClickOpenEdit.bind(this,this.state.users[t].ID_Utilisateur,this.state.users[t].Role)}),Object(d.jsx)(X,{title:this.state.users[t].Pseudo+" is currently "+this.state.users[t].Role,message:"New role : ",actionButton:"Confirm",closeButton:"Quit",open:this.state.modalEditOpen,close:this.handleCloseEdit,mainAction:this.edit.bind(this),changeAction:this.handleChange.bind(this),mainActionParameters:this.state.newRole}),Object(d.jsx)(b.a,{icon:m.t,onClick:this.handleClickOpenDelete}),Object(d.jsx)(K,{title:"Warning",message:"Are you sure you want to delete this user ?",actionButton:"Yes",closeButton:"No",open:this.state.modalDeleteOpen,close:this.handleCloseDelete,mainAction:this.delete.bind(this),mainActionParameters:this.state.users[t].ID_Utilisateur})]},t)),e.push(n)}return e}},{key:"render",value:function(){return null===this.state.users?Object(d.jsx)(u,{}):Object(d.jsx)("div",{className:"Users",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("p",{children:[Object(d.jsx)(b.a,{icon:m.w}),"Username"]}),Object(d.jsxs)("p",{children:[Object(d.jsx)(b.a,{icon:m.e}),"Mail"]}),Object(d.jsxs)("p",{children:[Object(d.jsx)(b.a,{icon:m.y}),"Role"]})]}),this.chargeData()]})})}}]),n}(s.a.Component),Z=n.p+"static/media/pdf.87027eba.svg",$=n.p+"static/media/doc.4d1d10df.svg";var ee=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),s=n[0],i=n[1],o=Object(c.useState)(null),r=Object(a.a)(o,2),l=r[0],u=r[1];function j(e){var t=window.location.protocol+"//"+window.location.hostname;window.open(t+"/API/documentsRessources/"+e)}function h(){var e=window.location.protocol+"//"+window.location.hostname;g.a.get(e+"/API/Controllers/ressource/lire.php").then((function(e){u(e.data.ressources)}))}function p(e){switch("pdf"==e.slice(-3)){case!0:return Z;case!1:return $}}Object(c.useEffect)((function(){s?(f()("form>label").html(s.name),f()("form>label").css("color","black")):(f()("form>label").html("Import file..."),f()("form>label").css("color","lightgray"))}),[s]),Object(c.useEffect)((function(){l||h()}),[]);var O=Object(c.useState)(!1),x=Object(a.a)(O,2),v=x[0],I=x[1],C=Object(c.useState)(null),A=Object(a.a)(C,2),D=A[0],N=A[1],y=Object(c.useState)(null),w=Object(a.a)(y,2),k=w[0],E=w[1];return Object(d.jsxs)("div",{className:"FileUpload",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),function(e){var t=new FormData;t.append("file",e);var n=window.location.protocol,c=window.location.hostname,s=n+"//"+c;g.a.post(s+"/API/Controllers/ressource/uploadFile.php",t,{headers:{"content-type":"multipart/form-data"}}).then((function(e){e.data.Error&&alert(e.data.Error),h(),i(null)})).catch((function(e){console.log(e)}))}(s)},children:[Object(d.jsx)("button",{className:"filled submit-button",type:"submit",children:Object(d.jsx)(b.a,{icon:m.v})}),Object(d.jsx)("label",{htmlFor:"file-upload",children:"Import file..."}),Object(d.jsx)("input",{id:"file-upload",type:"file",onChange:function(e){i(e.target.files[0])}})]}),Object(d.jsx)("h3",{children:" List of files already uploaded :"}),l&&Object(d.jsx)("div",{className:"item-list",children:l.map((function(e,t){return Object(d.jsxs)("div",{className:"item",title:e.Nom,children:[Object(d.jsx)("p",{onClick:function(){return function(e){I(!0),N("Do you want to delete "+e.Nom+" ?"),E(e.ID_Ressource)}(e)},children:Object(d.jsx)(b.a,{icon:m.s})}),Object(d.jsx)("img",{onClick:function(){return j(e.Nom)},src:p(e.Nom),alt:"icon pdf"}),Object(d.jsx)("p",{onClick:function(){return j(e.Nom)},children:e.Nom})]},t)}))})]}),Object(d.jsx)(M,{title:"Warning",message:D,open:v,close:function(){I(!1)},mainAction:function(e){var t=window.location.protocol+"//"+window.location.hostname,n=JSON.stringify({id:Number(e)});console.log(n),g()({method:"delete",url:t+"/API/Controllers/ressource/supprimerRessource.php",data:n}).then((function(e){return h()}))},mainActionParameters:k,mainActionName:"Delete"})]})};var te=function(e){var t=Object(c.useState)(null),n=Object(a.a)(t,2),s=n[0],i=n[1];return Object(c.useEffect)((function(){!function(){var t=window.location.protocol+"//"+window.location.hostname,n=JSON.stringify({id_methode:Number(e.method.ID_Methode)});g.a.post(t+"/API/Controllers/ressource/lireRessourcesMethode.php",n).then((function(e){i(e.data)})).catch((function(e){return console.log(e)}))}()}),[]),Object(d.jsx)("div",{className:"Method",children:Object(d.jsxs)("div",{id:e.id,className:"methodCard dropDown",children:[Object(d.jsxs)("div",{className:"header",children:[Object(d.jsxs)("div",{className:"informations",children:[Object(d.jsx)("h3",{children:e.method.Libelle}),Object(d.jsx)("p",{children:e.method.Description}),Object(d.jsxs)("div",{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.z}),Object(d.jsx)("p",{children:"workforce"}),Object(d.jsx)("p",{children:e.method.Effectif_preconise})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.i}),Object(d.jsx)("p",{children:"produced data"}),Object(d.jsx)("p",{children:e.method.Donnees_produites})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.d}),Object(d.jsx)("p",{children:"method"}),Object(d.jsx)("p",{children:e.method.Type_methode})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)(b.a,{className:"icon",icon:m.a}),Object(d.jsx)("p",{children:"analysis"}),Object(d.jsx)("p",{children:e.method.Type_analyse})]})]}),Object(d.jsx)("p",{children:e.method.Exemple})]}),s?Object(d.jsx)("div",{className:"ressources",children:s.map((function(e,t){return Object(d.jsxs)("div",{onClick:function(){return function(e){var t=window.location.protocol+"//"+window.location.hostname;window.open(t+"/API/documentsRessources/"+e)}(e.Nom)},className:"ressource",children:[Object(d.jsx)(b.a,{className:"icon",icon:m.g}),Object(d.jsx)("p",{children:e.Nom})]},t)}))}):Object(d.jsx)("p",{children:"No ressources"})]}),Object(d.jsx)("div",{onClick:function(e){return function(e){var t=e.currentTarget.parentElement.id;console.log(t),f()("#"+t).toggleClass("dropped")}(e)},className:"deploy",children:Object(d.jsx)(b.a,{icon:m.r})})]})})},ne=function(e){Object(w.a)(n,e);var t=Object(k.a)(n);function n(e){var c;return Object(N.a)(this,n),(c=t.call(this,e)).goToHome=function(){c.props.history.push({pathname:"/home"})},c.state={retainedMethods:null,resume:null,amount:null,endMessage:null},c}return Object(y.a)(n,[{key:"componentDidMount",value:function(){var e=this;if(this.props.location.state.retainedMethods.length?this.setState({retainedMethods:this.props.location.state.retainedMethods,amount:this.props.location.state.retainedMethods.length}):this.setState({amount:0}),null===this.state.endMessage){var t=window.location.protocol+"//"+window.location.hostname;g.a.get(t+"/API/Controllers/sortie/lireSortie.php").then((function(t){e.setState({endMessage:t.data.message})})).catch((function(e){return console.log(e)}))}}},{key:"render",value:function(){return Object(d.jsxs)("div",{className:"Summary",children:[Object(d.jsxs)("div",{children:[Object(d.jsxs)("h3",{children:["You have retained ",this.state.amount," method",this.state.amount>1?"s":""]}),this.state.retainedMethods?Object(d.jsx)("ul",{children:this.state.retainedMethods.map((function(e,t){return Object(d.jsx)("li",{children:Object(d.jsx)(te,{method:e.method,id:t+1})},t)}))}):Object(d.jsx)("p",{})]}),Object(d.jsxs)("div",{children:[this.state.endMessage?Object(d.jsx)("div",{className:"messageCard",children:Object(d.jsx)("p",{children:this.state.endMessage})}):Object(d.jsx)("p",{}),Object(d.jsx)("button",{onClick:this.goToHome,className:"button filled",children:"Back home"})]})]})}}]),n}(s.a.Component),ce=n.p+"static/media/robotError.ca706ba4.svg";var se=function(){return Object(d.jsxs)("div",{className:"Warning",children:[Object(d.jsx)("div",{children:Object(d.jsx)("img",{src:ce,alt:"logo error"})}),Object(d.jsx)("p",{children:"This website is only viewable in landscape mode"})]})},ie=n(18),oe=n(35);function ae(e){window.localStorage.removeItem(e)}function re(e){return window.localStorage.getItem(e)}function le(){var e=re("token"),t=!!e&&ue(e);return!1===t?(ae("token"),!1):!0===t&&function(e){return function(e){return Object(oe.a)(e)}(e).user_role}(e)}function de(e){var t=window.location.protocol+"//"+window.location.hostname;return g.a.post(t+"/API/Controllers/connexion.php",e).then((function(e){return e.data.token})).then((function(e){return void 0!==e&&(t="token",n=e,window.localStorage.setItem(t,n),!0);var t,n}))}function ue(e){return 1e3*Object(oe.a)(e).exp>(new Date).getTime()}n(79);var je=function(e){var t=Object(c.useContext)(x),n=t.setIsAuthenticated,s=t.setUserRole,i=Object(c.useState)({username:"",mot_de_passe:""}),o=Object(a.a)(i,2),r=o[0],l=o[1],u=function(e){var t=e.currentTarget,n=t.name,c=t.value;l(Object(L.a)(Object(L.a)({},r),{},Object(ie.a)({},n,c)))},j=function(){var t=Object(D.a)(A.a.mark((function t(c){var i,o,a;return A.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,t.next=4,de(r);case 4:!1===(i=t.sent)?e.history.push({pathname:"/login",state:{error:"Error, incorrect password or username"}}):(n(i),(o=le())&&s(o),e.history.push("/quiz")),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(1),a=t.t0.response,console.log(a),e.history.push({pathname:"/login",state:{error:"Error, incorrect password or username."}});case 13:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return Object(d.jsx)("div",{className:"LoginRegister",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Sign in"}),Object(d.jsxs)("div",{className:"InputItems",children:[Object(d.jsx)("div",{children:Object(d.jsx)("input",{className:"inputIcon",type:"text",id:"username",name:"username",required:!0,placeholder:"\uf007    Username",onChange:u})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{className:"inputIcon",type:"password",id:"password",name:"mot_de_passe",required:!0,placeholder:"\uf023    Password",onChange:u})})]}),e.location.state&&Object(d.jsx)("p",{className:"error",children:e.location.state.error}),Object(d.jsx)("div",{className:"action",children:Object(d.jsx)("button",{className:"button filled",onClick:j,children:"Sign in"})}),Object(d.jsx)("div",{className:"signup",children:Object(d.jsxs)("p",{children:["Don't have an account ? ",Object(d.jsx)("a",{onClick:function(){e.history.push("/register")},children:"Create one now"})]})})]})})};var he=function(){var e=Object(c.useState)(""),t=Object(a.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(""),o=Object(a.a)(i,2),r=o[0],u=o[1],j=Object(c.useState)(""),h=Object(a.a)(j,2),b=h[0],m=h[1],p=Object(c.useState)(""),f=Object(a.a)(p,2),O=f[0],x=f[1],v=Object(c.useState)(null),I=Object(a.a)(v,2),C=I[0],A=I[1],D=Object(c.useState)(null),N=Object(a.a)(D,2),y=N[0],w=N[1],k=Object(l.g)();return Object(d.jsx)("div",{className:"LoginRegister",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Sign up"}),Object(d.jsxs)("div",{className:"InputItems",children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"text",id:"username",name:"username",required:!0,placeholder:"\uf007     Username",onChange:function(e){return s(e.target.value)}}),C&&Object(d.jsx)("p",{className:"error",children:C})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("input",{type:"mail",id:"mail",name:"mail",required:!0,placeholder:"\uf0e0     Mail",onChange:function(e){return u(e.target.value)}}),y&&Object(d.jsx)("p",{className:"error",children:y})]}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"password",id:"password",name:"password",required:!0,placeholder:"\uf023     Password",onChange:function(e){return m(e.target.value)}})}),Object(d.jsx)("div",{children:Object(d.jsx)("input",{type:"password",id:"passwordConfirmation",name:"passwordConfirmation",required:!0,placeholder:"\uf023     Confirm password",onChange:function(e){return x(e.target.value)}})})]}),Object(d.jsx)("div",{className:"action",children:Object(d.jsx)("button",{className:"button filled",onClick:function(){var e=window.location.protocol+"//"+window.location.hostname;if(""!==n&&""!==r&&""!==b&&""!==O&&b===O){var t=JSON.stringify({mail:r,pseudo:n,mot_de_passe:b});g.a.post(e+"/API/Controllers/utilisateur/creerUtilisateur.php",t).then((function(e){e.data.ErrorPseudo?A(e.data.ErrorPseudo):e.data.ErrorMail?w(e.data.ErrorMail):k.push({pathname:"/login"})})).catch((function(e){return console.log(e)}))}},children:"Sign up"})})]})})},be=n.p+"static/media/quiz.efa23dcf.svg",me=function(){var e=Object(c.useContext)(x),t=e.isAuthenticated,n=e.setIsAuthenticated,s=Object(c.useContext)(x),i=s.userRole,o=s.setUserRole;return Object(d.jsx)("div",{className:"Navigation",children:Object(d.jsxs)("div",{children:[Object(d.jsx)("img",{src:"data:image/png;base64,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",alt:"Logo Thedre"}),Object(d.jsx)("nav",{children:Object(d.jsxs)("ul",{children:[Object(d.jsx)(r.b,{title:"home",to:"/",children:Object(d.jsx)("li",{children:Object(d.jsx)(b.a,{className:"icon",icon:m.j})})}),Object(d.jsx)(r.b,{title:"quiz",to:"/quiz",children:Object(d.jsx)("li",{children:Object(d.jsx)("img",{className:"icon quizIcon",src:be,alt:"icon quiz"})})}),!t&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(r.b,{title:"login",to:"/login",children:Object(d.jsx)("li",{children:Object(d.jsx)(b.a,{className:"icon",icon:m.w})})})}),"administrator"===i&&Object(d.jsxs)(d.Fragment,{children:[" ",Object(d.jsx)(r.b,{title:"tree management",to:"/manageTree",children:Object(d.jsx)("li",{children:Object(d.jsx)(b.a,{className:"icon",icon:m.o})})}),Object(d.jsx)(r.b,{title:"file uploading",to:"/fileUpload",children:Object(d.jsx)("li",{children:Object(d.jsx)(b.a,{className:"icon",icon:m.h})})})]}),"super-admin"===i&&Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)(r.b,{title:"tree management",to:"/manageTree",children:Object(d.jsx)("li",{children:Object(d.jsx)(b.a,{className:"icon",icon:m.o})})}),Object(d.jsx)(r.b,{title:"users management",to:"/manageUsers",children:Object(d.jsx)("li",{children:Object(d.jsx)(b.a,{className:"icon",icon:m.x})})}),Object(d.jsx)(r.b,{title:"file uploading",to:"/fileUpload",children:Object(d.jsx)("li",{children:Object(d.jsx)(b.a,{className:"icon",icon:m.h})})})]}),t&&Object(d.jsx)(d.Fragment,{children:Object(d.jsx)(r.b,{className:"logout",title:"logout",to:"/logout",children:Object(d.jsx)("li",{onClick:function(){ae("token"),n(!1),o(null)},children:Object(d.jsx)(b.a,{className:"logoutIcon",icon:m.q})})})})]})})]})})},pe=function(e){var t=e.path,n=e.component,s=Object(c.useContext)(x).isAuthenticated,i=Object(c.useContext)(x).userRole;if(!s)return Object(d.jsx)(l.a,{to:"/login"});switch(i){case"user":return Object(d.jsx)(l.a,{to:"/"});case"administrator":return"/manageTree"===t||"/fileUpload"===t?Object(d.jsx)(l.b,{path:t,component:n}):Object(d.jsx)(l.a,{to:"/"});case"super-admin":return Object(d.jsx)(l.b,{path:t,component:n})}};var fe=function(){var e=Object(c.useState)(function(){var e=re("token"),t=!!e&&ue(e);return!1===t&&ae("token"),t}()),t=Object(a.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(le()),o=Object(a.a)(i,2),u=o[0],j=o[1];return Object(d.jsx)(x.Provider,{value:{isAuthenticated:n,setIsAuthenticated:s,userRole:u,setUserRole:j},children:Object(d.jsxs)(r.a,{children:[Object(d.jsxs)("div",{className:"App",children:[Object(d.jsx)(me,{}),Object(d.jsxs)(l.d,{children:[Object(d.jsx)(l.b,{path:"/",exact:!0,component:I}),Object(d.jsx)(l.b,{path:"/quiz",exact:!0,component:T}),Object(d.jsx)(l.b,{path:"/summary",exact:!0,component:ne}),Object(d.jsx)(l.b,{path:"/login",exact:!0,component:je}),Object(d.jsx)(l.b,{path:"/register",exact:!0,component:he}),Object(d.jsx)(pe,{path:"/manageTree",component:q}),Object(d.jsx)(pe,{path:"/manageUsers",component:H}),Object(d.jsx)(pe,{path:"/fileUpload",component:ee}),Object(d.jsx)(l.a,{to:"/"})," "]})]}),Object(d.jsx)(se,{})]})})},Oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,82)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),c(e),s(e),i(e),o(e)}))};o.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(fe,{})}),document.getElementById("root")),Oe()}},[[80,1,2]]]);
//# sourceMappingURL=main.8b4c97b7.chunk.js.map
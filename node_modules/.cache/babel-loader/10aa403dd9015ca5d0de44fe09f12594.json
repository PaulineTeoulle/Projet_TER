{"ast":null,"code":"import _slicedToArray from\"C:/wamp64/www/Projet_TER/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React from'react';import $ from'jquery';import Loader from'../Loader';import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faChevronRight,faInfoCircle}from'@fortawesome/free-solid-svg-icons';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Issues(props){var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),infoOpen=_React$useState2[0],setIsOpen=_React$useState2[1];function next(){setIsOpen(false);var checkedBox=$('input:checked').val();var allChoices=[];$.each($(\"input\"),function(){allChoices.push($(this).val());});if(checkedBox){var decision=props.decisions.find(function(decision){return decision.ID_Decision===checkedBox;});props.changeData(decision.ID_Critere_sortant,decision,allChoices);}}function togglePanel(){setIsOpen(!infoOpen);}if(props.issue&&props.decisions){return/*#__PURE__*/_jsxs(\"div\",{className:\"Issues\",children:[props.issue.Informations!=null?/*#__PURE__*/_jsxs(\"h3\",{children:[/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"issueInfoIcon\",icon:faInfoCircle,onClick:function onClick(e){return togglePanel(e);}}),\" \",props.issue.Libelle,\" \"]}):/*#__PURE__*/_jsxs(\"h3\",{children:[\" \",props.issue.Libelle]}),infoOpen?/*#__PURE__*/_jsx(\"div\",{className:\"content\",children:/*#__PURE__*/_jsx(\"p\",{\"aria-label\":\"info\",children:props.issue.Informations})}):null,/*#__PURE__*/_jsxs(\"p\",{className:\"step\",children:[\"Question \",props.step]}),/*#__PURE__*/_jsx(\"form\",{action:\"#\",children:props.decisions.map(function(decision,i){if(decision.ID_Critere_sortant==null){// 0 == end node\ndecision.ID_Critere_sortant=0;}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"input\",{type:\"radio\",name:\"radio-group\",value:decision.ID_Decision}),/*#__PURE__*/_jsx(\"label\",{children:decision.Libelle})]},decision.ID_Decision);})}),/*#__PURE__*/_jsxs(\"button\",{onClick:next,children:[\"Next\",/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"icon\",icon:faChevronRight})]})]});}else{return/*#__PURE__*/_jsx(Loader,{});}}export default Issues;","map":{"version":3,"sources":["C:/wamp64/www/Projet_TER/src/components/quiz/issues.js"],"names":["React","$","Loader","FontAwesomeIcon","faChevronRight","faInfoCircle","Issues","props","useState","infoOpen","setIsOpen","next","checkedBox","val","allChoices","each","push","decision","decisions","find","ID_Decision","changeData","ID_Critere_sortant","togglePanel","issue","Informations","e","Libelle","step","map","i"],"mappings":"+IAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,CAAP,KAAc,QAAd,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,OAAQC,eAAR,KAA8B,gCAA9B,CACA,OAAQC,cAAR,CAAwBC,YAAxB,KAA2C,mCAA3C,C,wFAGA,QAASC,CAAAA,MAAT,CAAgBC,KAAhB,CAAuB,CAEnB,oBAA8BP,KAAK,CAACQ,QAAN,CAAe,KAAf,CAA9B,oDAAOC,QAAP,qBAAiBC,SAAjB,qBAEA,QAASC,CAAAA,IAAT,EAAgB,CACZD,SAAS,CAAC,KAAD,CAAT,CACA,GAAIE,CAAAA,UAAU,CAAGX,CAAC,CAAC,eAAD,CAAD,CAAmBY,GAAnB,EAAjB,CACA,GAAIC,CAAAA,UAAU,CAAG,EAAjB,CACAb,CAAC,CAACc,IAAF,CAAOd,CAAC,CAAC,OAAD,CAAR,CAAmB,UAAY,CAC3Ba,UAAU,CAACE,IAAX,CAAgBf,CAAC,CAAC,IAAD,CAAD,CAAQY,GAAR,EAAhB,EACH,CAFD,EAGA,GAAID,UAAJ,CAAgB,CACZ,GAAIK,CAAAA,QAAQ,CAAGV,KAAK,CAACW,SAAN,CAAgBC,IAAhB,CAAqB,SAAAF,QAAQ,QAAIA,CAAAA,QAAQ,CAACG,WAAT,GAAyBR,UAA7B,EAA7B,CAAf,CACAL,KAAK,CAACc,UAAN,CAAiBJ,QAAQ,CAACK,kBAA1B,CAA8CL,QAA9C,CAAwDH,UAAxD,EACH,CACJ,CAED,QAASS,CAAAA,WAAT,EAAuB,CACnBb,SAAS,CAAC,CAACD,QAAF,CAAT,CACH,CAGD,GAAIF,KAAK,CAACiB,KAAN,EAAejB,KAAK,CAACW,SAAzB,CAAoC,CAChC,mBACI,aAAK,SAAS,CAAC,QAAf,WAEKX,KAAK,CAACiB,KAAN,CAAYC,YAAZ,EAA4B,IAA5B,cACG,mCAAI,KAAC,eAAD,EAAiB,SAAS,CAAC,eAA3B,CAA2C,IAAI,CAAEpB,YAAjD,CACA,OAAO,CAAE,iBAACqB,CAAD,QAAOH,CAAAA,WAAW,CAACG,CAAD,CAAlB,EADT,EAAJ,KACuCnB,KAAK,CAACiB,KAAN,CAAYG,OADnD,OADH,cAGK,0BAAMpB,KAAK,CAACiB,KAAN,CAAYG,OAAlB,GALV,CAOKlB,QAAQ,cACL,YAAK,SAAS,CAAC,SAAf,uBACI,UAAG,aAAY,MAAf,UAAwBF,KAAK,CAACiB,KAAN,CAAYC,YAApC,EADJ,EADK,CAIH,IAXV,cAaI,WAAG,SAAS,CAAC,MAAb,uBAA8BlB,KAAK,CAACqB,IAApC,GAbJ,cAcI,aAAM,MAAM,CAAC,GAAb,UACKrB,KAAK,CAACW,SAAN,CAAgBW,GAAhB,CAAoB,SAACZ,QAAD,CAAWa,CAAX,CAAiB,CAClC,GAAGb,QAAQ,CAACK,kBAAT,EAA+B,IAAlC,CAAuC,CACnC;AACAL,QAAQ,CAACK,kBAAT,CAA8B,CAA9B,CACH,CACD,mBACI,oCACI,cAAO,IAAI,CAAC,OAAZ,CAAoB,IAAI,CAAC,aAAzB,CAAuC,KAAK,CAAEL,QAAQ,CAACG,WAAvD,EADJ,cAEI,uBAAQH,QAAQ,CAACU,OAAjB,EAFJ,GAAUV,QAAQ,CAACG,WAAnB,CADJ,CAMH,CAXA,CADL,EAdJ,cA4BI,gBAAQ,OAAO,CAAET,IAAjB,+BAA2B,KAAC,eAAD,EAAiB,SAAS,CAAC,MAA3B,CAAkC,IAAI,CAAEP,cAAxC,EAA3B,GA5BJ,GADJ,CAgCH,CAjCD,IAiCO,CACH,mBAAO,KAAC,MAAD,IAAP,CACH,CACJ,CAED,cAAeE,CAAAA,MAAf","sourcesContent":["import React from 'react';\r\nimport $ from 'jquery';\r\nimport Loader from '../Loader'\r\nimport {FontAwesomeIcon} from '@fortawesome/react-fontawesome'\r\nimport {faChevronRight, faInfoCircle} from '@fortawesome/free-solid-svg-icons'\r\n\r\n\r\nfunction Issues(props) {\r\n\r\n    const [infoOpen, setIsOpen] = React.useState(false);\r\n\r\n    function next() {\r\n        setIsOpen(false);\r\n        let checkedBox = $('input:checked').val();\r\n        let allChoices = [];\r\n        $.each($(\"input\"), function () {\r\n            allChoices.push($(this).val());\r\n        });\r\n        if (checkedBox) {\r\n            let decision = props.decisions.find(decision => decision.ID_Decision === checkedBox)\r\n            props.changeData(decision.ID_Critere_sortant, decision, allChoices);\r\n        }\r\n    }\r\n\r\n    function togglePanel() {\r\n        setIsOpen(!infoOpen);\r\n    }\r\n\r\n\r\n    if (props.issue && props.decisions) {\r\n        return (\r\n            <div className=\"Issues\">\r\n\r\n                {props.issue.Informations != null ?\r\n                    <h3><FontAwesomeIcon className=\"issueInfoIcon\" icon={faInfoCircle}\r\n                        onClick={(e) => togglePanel(e)}/> {props.issue.Libelle} </h3>\r\n                    : <h3> {props.issue.Libelle}</h3>}\r\n\r\n                {infoOpen ?\r\n                    <div className=\"content\">\r\n                        <p aria-label={\"info\"}>{props.issue.Informations}</p>\r\n                    </div>\r\n                    : null}\r\n\r\n                <p className=\"step\">Question {props.step}</p>\r\n                <form action=\"#\">\r\n                    {props.decisions.map((decision, i) => {\r\n                        if(decision.ID_Critere_sortant == null){\r\n                            // 0 == end node\r\n                            decision.ID_Critere_sortant = 0;\r\n                        }\r\n                        return (\r\n                            <div key={decision.ID_Decision}>\r\n                                <input type=\"radio\" name=\"radio-group\" value={decision.ID_Decision}/>\r\n                                <label>{decision.Libelle}</label>\r\n                            </div>\r\n                        )\r\n                    })}\r\n                </form>\r\n                <button onClick={next}>Next<FontAwesomeIcon className=\"icon\" icon={faChevronRight}/></button>\r\n            </div>\r\n        );\r\n    } else {\r\n        return <Loader/>\r\n    }\r\n}\r\n\r\nexport default Issues;\r\n"]},"metadata":{},"sourceType":"module"}
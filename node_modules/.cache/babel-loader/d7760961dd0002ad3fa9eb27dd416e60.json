{"ast":null,"code":"import _classCallCheck from\"C:/wamp64/www/Projet_TER/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"C:/wamp64/www/Projet_TER/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"C:/wamp64/www/Projet_TER/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"C:/wamp64/www/Projet_TER/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import DropMethodCard from'../components/quiz/DropMethodCard';import axios from\"axios\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";export var Summary=/*#__PURE__*/function(_React$Component){_inherits(Summary,_React$Component);var _super=_createSuper(Summary);function Summary(props){var _this;_classCallCheck(this,Summary);_this=_super.call(this,props);_this.goToHome=function(){_this.props.history.push({pathname:'/home'});};_this.state={retainedMethods:null,resume:null,amount:null,endMessage:null};return _this;}// renvoie sur la page d'accueil\n_createClass(Summary,[{key:\"componentDidMount\",value:// charge et vérifie les data passé en props\nfunction componentDidMount(){var _this2=this;if(this.props.location.state.retainedMethods.length){this.setState({retainedMethods:this.props.location.state.retainedMethods,amount:this.props.location.state.retainedMethods.length});}else{this.setState({amount:0});}if(this.state.endMessage===null){// récupère le message de fin\nvar protocol=window.location.protocol;var host=window.location.hostname;var url=protocol+'//'+host;axios.get(url+'/API/Controllers/sortie/lireSortie.php').then(function(response){_this2.setState({endMessage:response.data['message']});}).catch(function(error){return console.log(error);});}}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"Summary\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"You have retained \",this.state.amount,\" method\",this.state.amount>1?\"s\":\"\"]}),this.state.retainedMethods?/*#__PURE__*/_jsx(\"ul\",{children:this.state.retainedMethods.map(function(element,i){return/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(DropMethodCard,{method:element.method,id:i+1})},i);})}):/*#__PURE__*/_jsx(\"p\",{})]}),/*#__PURE__*/_jsxs(\"div\",{children:[this.state.endMessage?/*#__PURE__*/_jsx(\"div\",{className:\"messageCard\",children:/*#__PURE__*/_jsx(\"p\",{children:this.state.endMessage})}):/*#__PURE__*/_jsx(\"p\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:this.goToHome,className:\"button filled\",children:\"Back home\"})]})]});}}]);return Summary;}(React.Component);export default Summary;","map":{"version":3,"sources":["C:/wamp64/www/Projet_TER/src/views/Summary.js"],"names":["React","DropMethodCard","axios","Summary","props","goToHome","history","push","pathname","state","retainedMethods","resume","amount","endMessage","location","length","setState","protocol","window","host","hostname","url","get","then","response","data","catch","error","console","log","map","element","i","method","Component"],"mappings":"4iBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,cAAP,KAA2B,mCAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,C,wFAEA,UAAaC,CAAAA,OAAb,8GAEI,iBAAYC,KAAZ,CAAmB,yCACf,uBAAMA,KAAN,EADe,MAWnBC,QAXmB,CAWR,UAAM,CACb,MAAKD,KAAL,CAAWE,OAAX,CAAmBC,IAAnB,CAAwB,CACpBC,QAAQ,CAAE,OADU,CAAxB,EAGH,CAfkB,CAEf,MAAKC,KAAL,CAAa,CACTC,eAAe,CAAE,IADR,CAETC,MAAM,CAAE,IAFC,CAGTC,MAAM,CAAE,IAHC,CAITC,UAAU,CAAE,IAJH,CAAb,CAFe,aAQlB,CAED;AAZJ,qDAmBI;AACA,4BAAoB,iBAChB,GAAI,KAAKT,KAAL,CAAWU,QAAX,CAAoBL,KAApB,CAA0BC,eAA1B,CAA0CK,MAA9C,CAAsD,CAClD,KAAKC,QAAL,CAAc,CACVN,eAAe,CAAE,KAAKN,KAAL,CAAWU,QAAX,CAAoBL,KAApB,CAA0BC,eADjC,CAEVE,MAAM,CAAE,KAAKR,KAAL,CAAWU,QAAX,CAAoBL,KAApB,CAA0BC,eAA1B,CAA0CK,MAFxC,CAAd,EAIH,CALD,IAKO,CACH,KAAKC,QAAL,CAAc,CAACJ,MAAM,CAAE,CAAT,CAAd,EACH,CACD,GAAI,KAAKH,KAAL,CAAWI,UAAX,GAA0B,IAA9B,CAAoC,CAChC;AACA,GAAII,CAAAA,QAAQ,CAAGC,MAAM,CAACJ,QAAP,CAAgBG,QAA/B,CACA,GAAIE,CAAAA,IAAI,CAAGD,MAAM,CAACJ,QAAP,CAAgBM,QAA3B,CACA,GAAIC,CAAAA,GAAG,CAAGJ,QAAQ,CAAG,IAAX,CAAkBE,IAA5B,CACAjB,KAAK,CAACoB,GAAN,CAAUD,GAAG,CAAG,wCAAhB,EACKE,IADL,CACU,SAAAC,QAAQ,CAAI,CACd,MAAI,CAACR,QAAL,CAAc,CAACH,UAAU,CAAEW,QAAQ,CAACC,IAAT,CAAc,SAAd,CAAb,CAAd,EACH,CAHL,EAIKC,KAJL,CAIW,SAAAC,KAAK,QAAIC,CAAAA,OAAO,CAACC,GAAR,CAAYF,KAAZ,CAAJ,EAJhB,EAMH,CACJ,CAzCL,sBA2CI,iBAAS,CACL,mBACI,aAAK,SAAS,CAAC,SAAf,wBACI,oCACI,2CAAuB,KAAKlB,KAAL,CAAWG,MAAlC,WAAiD,KAAKH,KAAL,CAAWG,MAAX,CAAoB,CAApB,CAAwB,GAAxB,CAA8B,EAA/E,GADJ,CAEK,KAAKH,KAAL,CAAWC,eAAX,cACG,oBACK,KAAKD,KAAL,CAAWC,eAAX,CAA2BoB,GAA3B,CAA+B,SAACC,OAAD,CAAUC,CAAV,CAAgB,CAC5C,mBACI,iCACI,KAAC,cAAD,EAAgB,MAAM,CAAED,OAAO,CAACE,MAAhC,CACgB,EAAE,CAAED,CAAC,CAAG,CADxB,EADJ,EAASA,CAAT,CADJ,CAOH,CARA,CADL,EADH,cAaG,YAfR,GADJ,cAmBI,uBACK,KAAKvB,KAAL,CAAWI,UAAX,cACG,YAAK,SAAS,CAAC,aAAf,uBACI,mBAAI,KAAKJ,KAAL,CAAWI,UAAf,EADJ,EADH,cAKG,YANR,cASI,eAAQ,OAAO,CAAE,KAAKR,QAAtB,CAAgC,SAAS,CAAC,eAA1C,uBATJ,GAnBJ,GADJ,CAiCH,CA7EL,qBAA6BL,KAAK,CAACkC,SAAnC,EAiFA,cAAe/B,CAAAA,OAAf","sourcesContent":["import React from 'react';\r\nimport DropMethodCard from '../components/quiz/DropMethodCard';\r\nimport axios from \"axios\";\r\n\r\nexport class Summary extends React.Component {\r\n\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            retainedMethods: null,\r\n            resume: null,\r\n            amount: null,\r\n            endMessage: null\r\n        };\r\n    }\r\n\r\n    // renvoie sur la page d'accueil\r\n    goToHome = () => {\r\n        this.props.history.push({\r\n            pathname: '/home'\r\n        })\r\n    }\r\n\r\n    // charge et vérifie les data passé en props\r\n    componentDidMount() {\r\n        if (this.props.location.state.retainedMethods.length) {\r\n            this.setState({\r\n                retainedMethods: this.props.location.state.retainedMethods,\r\n                amount: this.props.location.state.retainedMethods.length\r\n            });\r\n        } else {\r\n            this.setState({amount: 0});\r\n        }\r\n        if (this.state.endMessage === null) {\r\n            // récupère le message de fin\r\n            let protocol = window.location.protocol;\r\n            let host = window.location.hostname;\r\n            let url = protocol + '//' + host;\r\n            axios.get(url + '/API/Controllers/sortie/lireSortie.php')\r\n                .then(response => {\r\n                    this.setState({endMessage: response.data['message']})\r\n                })\r\n                .catch(error => console.log(error))\r\n\r\n        }\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Summary\">\r\n                <div>\r\n                    <h3>You have retained {this.state.amount} method{this.state.amount > 1 ? \"s\" : \"\"}</h3>\r\n                    {this.state.retainedMethods ?\r\n                        <ul>\r\n                            {this.state.retainedMethods.map((element, i) => {\r\n                                return (\r\n                                    <li key={i}>\r\n                                        <DropMethodCard method={element.method}\r\n                                                        id={i + 1}\r\n                                        />\r\n                                    </li>\r\n                                )\r\n                            })}\r\n                        </ul>\r\n                        :\r\n                        <p></p>\r\n                    }\r\n                </div>\r\n                <div>\r\n                    {this.state.endMessage ?\r\n                        <div className=\"messageCard\">\r\n                            <p>{this.state.endMessage}</p>\r\n                        </div>\r\n                        :\r\n                        <p></p>\r\n                    }\r\n\r\n                    <button onClick={this.goToHome} className=\"button filled\">Back home</button>\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\n\r\nexport default Summary;\r\n"]},"metadata":{},"sourceType":"module"}
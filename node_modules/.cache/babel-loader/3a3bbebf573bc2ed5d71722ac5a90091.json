{"ast":null,"code":"import React,{useContext}from'react';import Auth from\"../contexts/Auth\";import{Redirect,Route}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";var AuthenticatedRoute=function AuthenticatedRoute(_ref){var path=_ref.path,component=_ref.component;var _useContext=useContext(Auth),isAuthenticated=_useContext.isAuthenticated;var _useContext2=useContext(Auth),userRole=_useContext2.userRole;if(isAuthenticated){switch(userRole){case'user':// accès a rien\nreturn/*#__PURE__*/_jsx(Redirect,{to:\"/\"});case'administrator':// accès a l'arbre uniquement\nif(path==='/manageTree'){return/*#__PURE__*/_jsx(Route,{path:path,component:component});}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/\"});}case'super-admin':// accès a tout\nreturn/*#__PURE__*/_jsx(Route,{path:path,component:component});}}else{return/*#__PURE__*/_jsx(Redirect,{to:\"/login\"});}};export default AuthenticatedRoute;","map":{"version":3,"sources":["C:/wamp64/www/Projet_TER/src/components/AuthenticatedRoute.js"],"names":["React","useContext","Auth","Redirect","Route","AuthenticatedRoute","path","component","isAuthenticated","userRole"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAeC,UAAf,KAAgC,OAAhC,CACA,MAAOC,CAAAA,IAAP,KAAiB,kBAAjB,CACA,OAAQC,QAAR,CAAkBC,KAAlB,KAA8B,kBAA9B,C,2CAEA,GAAMC,CAAAA,kBAAkB,CAAG,QAArBA,CAAAA,kBAAqB,MAAuB,IAArBC,CAAAA,IAAqB,MAArBA,IAAqB,CAAfC,SAAe,MAAfA,SAAe,CAC9C,gBAA0BN,UAAU,CAACC,IAAD,CAApC,CAAOM,eAAP,aAAOA,eAAP,CACA,iBAAmBP,UAAU,CAACC,IAAD,CAA7B,CAAOO,QAAP,cAAOA,QAAP,CACA,GAAGD,eAAH,CAAmB,CACf,OAAOC,QAAP,EACI,IAAK,MAAL,CACI;AACA,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACJ,IAAK,eAAL,CACI;AACA,GAAGH,IAAI,GAAK,aAAZ,CAA0B,CACtB,mBAAO,KAAC,KAAD,EAAO,IAAI,CAAEA,IAAb,CAAmB,SAAS,CAAEC,SAA9B,EAAP,CACH,CAFD,IAEO,CACH,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,GAAb,EAAP,CACH,CACL,IAAK,aAAL,CACI;AACA,mBAAO,KAAC,KAAD,EAAO,IAAI,CAAED,IAAb,CAAmB,SAAS,CAAEC,SAA9B,EAAP,CAbR,CAeH,CAhBD,IAgBO,CACH,mBAAO,KAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAAP,CACH,CACJ,CAtBD,CAuBA,cAAeF,CAAAA,kBAAf","sourcesContent":["import React, {useContext} from 'react';\r\nimport Auth from \"../contexts/Auth\";\r\nimport {Redirect, Route} from \"react-router-dom\";\r\n\r\nconst AuthenticatedRoute = ({path, component}) => {\r\n    const {isAuthenticated} = useContext(Auth);\r\n    const {userRole} = useContext(Auth);\r\n    if(isAuthenticated){\r\n        switch(userRole){\r\n            case 'user':\r\n                // accès a rien\r\n                return <Redirect to=\"/\"/>\r\n            case 'administrator':\r\n                // accès a l'arbre uniquement\r\n                if(path === '/manageTree'){\r\n                    return <Route path={path} component={component}/> \r\n                } else {\r\n                    return <Redirect to=\"/\"/>\r\n                }\r\n            case 'super-admin':\r\n                // accès a tout\r\n                return <Route path={path} component={component}/> \r\n        }\r\n    } else {\r\n        return <Redirect to=\"/login\"/>\r\n    }\r\n}\r\nexport default AuthenticatedRoute; "]},"metadata":{},"sourceType":"module"}
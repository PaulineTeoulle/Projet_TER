{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.OutlineInternal = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _makeCancellablePromise = _interopRequireDefault(require(\"make-cancellable-promise\"));\n\nvar _makeEventProps = _interopRequireDefault(require(\"make-event-props\"));\n\nvar _mergeClassNames = _interopRequireDefault(require(\"merge-class-names\"));\n\nvar _DocumentContext = _interopRequireDefault(require(\"./DocumentContext\"));\n\nvar _OutlineContext = _interopRequireDefault(require(\"./OutlineContext\"));\n\nvar _OutlineItem = _interopRequireDefault(require(\"./OutlineItem\"));\n\nvar _utils = require(\"./shared/utils\");\n\nvar _propTypes2 = require(\"./shared/propTypes\");\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        (0, _defineProperty2[\"default\"])(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _createSuper(Derived) {\n  var hasNativeReflectConstruct = _isNativeReflectConstruct();\n\n  return function _createSuperInternal() {\n    var Super = (0, _getPrototypeOf2[\"default\"])(Derived),\n        result;\n\n    if (hasNativeReflectConstruct) {\n      var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor;\n      result = Reflect.construct(Super, arguments, NewTarget);\n    } else {\n      result = Super.apply(this, arguments);\n    }\n\n    return (0, _possibleConstructorReturn2[\"default\"])(this, result);\n  };\n}\n\nfunction _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n\n  try {\n    Date.prototype.toString.call(Reflect.construct(Date, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}\n\nvar OutlineInternal = /*#__PURE__*/function (_PureComponent) {\n  (0, _inherits2[\"default\"])(OutlineInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineInternal);\n\n  function OutlineInternal() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, OutlineInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      outline: null\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"loadOutline\", /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n      var pdf, cancellable, outline;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pdf = _this.props.pdf;\n\n              _this.setState(function (prevState) {\n                if (!prevState.outline) {\n                  return null;\n                }\n\n                return {\n                  outline: null\n                };\n              });\n\n              _context.prev = 2;\n              cancellable = (0, _makeCancellablePromise[\"default\"])(pdf.getOutline());\n              _this.runningTask = cancellable;\n              _context.next = 7;\n              return cancellable.promise;\n\n            case 7:\n              outline = _context.sent;\n\n              _this.setState({\n                outline: outline\n              }, _this.onLoadSuccess);\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n\n              _this.onLoadError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    })));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var outline = _this.state.outline;\n      if (onLoadSuccess) onLoadSuccess(outline);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        outline: false\n      });\n\n      (0, _utils.errorOnDev)(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onItemClick\", function (_ref2) {\n      var pageIndex = _ref2.pageIndex,\n          pageNumber = _ref2.pageNumber;\n      var onItemClick = _this.props.onItemClick;\n\n      if (onItemClick) {\n        onItemClick({\n          pageIndex: pageIndex,\n          pageNumber: pageNumber\n        });\n      }\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(OutlineInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n\n      if (!pdf) {\n        throw new Error('Attempted to load an outline, but no document was specified.');\n      }\n\n      this.loadOutline();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf) {\n        this.loadOutline();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      (0, _utils.cancelRunningTask)(this.runningTask);\n    }\n  }, {\n    key: \"renderOutline\",\n    value: function renderOutline() {\n      var outline = this.state.outline;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"ul\", null, outline.map(function (item, itemIndex) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_OutlineItem[\"default\"], {\n          key: typeof item.destination === 'string' ? item.destination : itemIndex,\n          item: item\n        });\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pdf = this.props.pdf;\n      var outline = this.state.outline;\n\n      if (!pdf || !outline) {\n        return null;\n      }\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          inputRef = _this$props.inputRef;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", (0, _extends2[\"default\"])({\n        className: (0, _mergeClassNames[\"default\"])('react-pdf__Outline', className),\n        ref: inputRef\n      }, this.eventProps), /*#__PURE__*/_react[\"default\"].createElement(_OutlineContext[\"default\"].Provider, {\n        value: this.childContext\n      }, this.renderOutline()));\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      return {\n        onClick: this.onItemClick\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this; // eslint-disable-next-line react/destructuring-assignment\n\n\n      return (0, _makeEventProps[\"default\"])(this.props, function () {\n        return _this2.state.outline;\n      });\n    }\n    /**\n     * Called when an outline is read successfully\n     */\n\n  }]);\n  return OutlineInternal;\n}(_react.PureComponent);\n\nexports.OutlineInternal = OutlineInternal;\nOutlineInternal.propTypes = _objectSpread({\n  className: _propTypes2.isClassName,\n  inputRef: _propTypes2.isRef,\n  onItemClick: _propTypes[\"default\"].func,\n  onLoadError: _propTypes[\"default\"].func,\n  onLoadSuccess: _propTypes[\"default\"].func,\n  pdf: _propTypes2.isPdf\n}, _propTypes2.eventProps);\n\nfunction Outline(props, ref) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_DocumentContext[\"default\"].Consumer, null, function (context) {\n    return /*#__PURE__*/_react[\"default\"].createElement(OutlineInternal, (0, _extends2[\"default\"])({\n      ref: ref\n    }, context, props));\n  });\n}\n\nvar _default = /*#__PURE__*/_react[\"default\"].forwardRef(Outline);\n\nexports[\"default\"] = _default;","map":{"version":3,"sources":["C:/wamp64/www/Projet_TER/node_modules/react-pdf/dist/umd/Outline.js"],"names":["_interopRequireWildcard","require","_interopRequireDefault","Object","defineProperty","exports","value","OutlineInternal","_extends2","_regenerator","_asyncToGenerator2","_classCallCheck2","_createClass2","_assertThisInitialized2","_inherits2","_possibleConstructorReturn2","_getPrototypeOf2","_defineProperty2","_react","_propTypes","_makeCancellablePromise","_makeEventProps","_mergeClassNames","_DocumentContext","_OutlineContext","_OutlineItem","_utils","_propTypes2","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","_createSuper","Derived","hasNativeReflectConstruct","_isNativeReflectConstruct","_createSuperInternal","Super","result","NewTarget","constructor","Reflect","construct","sham","Proxy","Date","prototype","toString","call","e","_PureComponent","_super","_this","_len","args","Array","_key","concat","outline","mark","_callee","pdf","cancellable","wrap","_callee$","_context","prev","next","props","setState","prevState","getOutline","runningTask","promise","sent","onLoadSuccess","t0","onLoadError","stop","state","error","errorOnDev","_ref2","pageIndex","pageNumber","onItemClick","componentDidMount","Error","loadOutline","componentDidUpdate","prevProps","componentWillUnmount","cancelRunningTask","renderOutline","createElement","map","item","itemIndex","destination","render","_this$props","className","inputRef","ref","eventProps","Provider","childContext","get","onClick","_this2","PureComponent","propTypes","isClassName","isRef","func","isPdf","Outline","Consumer","context","_default","forwardRef"],"mappings":"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","sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.OutlineInternal = void 0;\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _asyncToGenerator2 = _interopRequireDefault(require(\"@babel/runtime/helpers/asyncToGenerator\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inherits2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inherits\"));\n\nvar _possibleConstructorReturn2 = _interopRequireDefault(require(\"@babel/runtime/helpers/possibleConstructorReturn\"));\n\nvar _getPrototypeOf2 = _interopRequireDefault(require(\"@babel/runtime/helpers/getPrototypeOf\"));\n\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/defineProperty\"));\n\nvar _react = _interopRequireWildcard(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar _makeCancellablePromise = _interopRequireDefault(require(\"make-cancellable-promise\"));\n\nvar _makeEventProps = _interopRequireDefault(require(\"make-event-props\"));\n\nvar _mergeClassNames = _interopRequireDefault(require(\"merge-class-names\"));\n\nvar _DocumentContext = _interopRequireDefault(require(\"./DocumentContext\"));\n\nvar _OutlineContext = _interopRequireDefault(require(\"./OutlineContext\"));\n\nvar _OutlineItem = _interopRequireDefault(require(\"./OutlineItem\"));\n\nvar _utils = require(\"./shared/utils\");\n\nvar _propTypes2 = require(\"./shared/propTypes\");\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { (0, _defineProperty2[\"default\"])(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = (0, _getPrototypeOf2[\"default\"])(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = (0, _getPrototypeOf2[\"default\"])(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return (0, _possibleConstructorReturn2[\"default\"])(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nvar OutlineInternal = /*#__PURE__*/function (_PureComponent) {\n  (0, _inherits2[\"default\"])(OutlineInternal, _PureComponent);\n\n  var _super = _createSuper(OutlineInternal);\n\n  function OutlineInternal() {\n    var _this;\n\n    (0, _classCallCheck2[\"default\"])(this, OutlineInternal);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"state\", {\n      outline: null\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"loadOutline\", /*#__PURE__*/(0, _asyncToGenerator2[\"default\"])( /*#__PURE__*/_regenerator[\"default\"].mark(function _callee() {\n      var pdf, cancellable, outline;\n      return _regenerator[\"default\"].wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              pdf = _this.props.pdf;\n\n              _this.setState(function (prevState) {\n                if (!prevState.outline) {\n                  return null;\n                }\n\n                return {\n                  outline: null\n                };\n              });\n\n              _context.prev = 2;\n              cancellable = (0, _makeCancellablePromise[\"default\"])(pdf.getOutline());\n              _this.runningTask = cancellable;\n              _context.next = 7;\n              return cancellable.promise;\n\n            case 7:\n              outline = _context.sent;\n\n              _this.setState({\n                outline: outline\n              }, _this.onLoadSuccess);\n\n              _context.next = 14;\n              break;\n\n            case 11:\n              _context.prev = 11;\n              _context.t0 = _context[\"catch\"](2);\n\n              _this.onLoadError(_context.t0);\n\n            case 14:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 11]]);\n    })));\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onLoadSuccess\", function () {\n      var onLoadSuccess = _this.props.onLoadSuccess;\n      var outline = _this.state.outline;\n      if (onLoadSuccess) onLoadSuccess(outline);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onLoadError\", function (error) {\n      _this.setState({\n        outline: false\n      });\n\n      (0, _utils.errorOnDev)(error);\n      var onLoadError = _this.props.onLoadError;\n      if (onLoadError) onLoadError(error);\n    });\n    (0, _defineProperty2[\"default\"])((0, _assertThisInitialized2[\"default\"])(_this), \"onItemClick\", function (_ref2) {\n      var pageIndex = _ref2.pageIndex,\n          pageNumber = _ref2.pageNumber;\n      var onItemClick = _this.props.onItemClick;\n\n      if (onItemClick) {\n        onItemClick({\n          pageIndex: pageIndex,\n          pageNumber: pageNumber\n        });\n      }\n    });\n    return _this;\n  }\n\n  (0, _createClass2[\"default\"])(OutlineInternal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var pdf = this.props.pdf;\n\n      if (!pdf) {\n        throw new Error('Attempted to load an outline, but no document was specified.');\n      }\n\n      this.loadOutline();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var pdf = this.props.pdf;\n\n      if (prevProps.pdf && pdf !== prevProps.pdf) {\n        this.loadOutline();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      (0, _utils.cancelRunningTask)(this.runningTask);\n    }\n  }, {\n    key: \"renderOutline\",\n    value: function renderOutline() {\n      var outline = this.state.outline;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"ul\", null, outline.map(function (item, itemIndex) {\n        return /*#__PURE__*/_react[\"default\"].createElement(_OutlineItem[\"default\"], {\n          key: typeof item.destination === 'string' ? item.destination : itemIndex,\n          item: item\n        });\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var pdf = this.props.pdf;\n      var outline = this.state.outline;\n\n      if (!pdf || !outline) {\n        return null;\n      }\n\n      var _this$props = this.props,\n          className = _this$props.className,\n          inputRef = _this$props.inputRef;\n      return /*#__PURE__*/_react[\"default\"].createElement(\"div\", (0, _extends2[\"default\"])({\n        className: (0, _mergeClassNames[\"default\"])('react-pdf__Outline', className),\n        ref: inputRef\n      }, this.eventProps), /*#__PURE__*/_react[\"default\"].createElement(_OutlineContext[\"default\"].Provider, {\n        value: this.childContext\n      }, this.renderOutline()));\n    }\n  }, {\n    key: \"childContext\",\n    get: function get() {\n      return {\n        onClick: this.onItemClick\n      };\n    }\n  }, {\n    key: \"eventProps\",\n    get: function get() {\n      var _this2 = this;\n\n      // eslint-disable-next-line react/destructuring-assignment\n      return (0, _makeEventProps[\"default\"])(this.props, function () {\n        return _this2.state.outline;\n      });\n    }\n    /**\n     * Called when an outline is read successfully\n     */\n\n  }]);\n  return OutlineInternal;\n}(_react.PureComponent);\n\nexports.OutlineInternal = OutlineInternal;\nOutlineInternal.propTypes = _objectSpread({\n  className: _propTypes2.isClassName,\n  inputRef: _propTypes2.isRef,\n  onItemClick: _propTypes[\"default\"].func,\n  onLoadError: _propTypes[\"default\"].func,\n  onLoadSuccess: _propTypes[\"default\"].func,\n  pdf: _propTypes2.isPdf\n}, _propTypes2.eventProps);\n\nfunction Outline(props, ref) {\n  return /*#__PURE__*/_react[\"default\"].createElement(_DocumentContext[\"default\"].Consumer, null, function (context) {\n    return /*#__PURE__*/_react[\"default\"].createElement(OutlineInternal, (0, _extends2[\"default\"])({\n      ref: ref\n    }, context, props));\n  });\n}\n\nvar _default = /*#__PURE__*/_react[\"default\"].forwardRef(Outline);\n\nexports[\"default\"] = _default;"]},"metadata":{},"sourceType":"script"}
{"ast":null,"code":"import _slicedToArray from\"C:/wamp64/www/Projet_TER/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Register=function Register(_ref){var history=_ref.history;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),username=_useState2[0],setUsername=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),mail=_useState4[0],setMail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),passwordConfirmation=_useState8[0],setPasswordConfirmation=_useState8[1];var register=function register(){var protocol=window.location.protocol;var host=window.location.hostname;var url=protocol+'//'+host;if(username!==\"\"&&mail!==\"\"&&password!==\"\"&&passwordConfirmation!==\"\"&&password===passwordConfirmation){//const json = JSON.stringify();\naxios.post(url+'/API/Controllers/utilisateur/creerUtilisateur.php',{mail:mail,pseudo:username,mot_de_passe:password})// axios.post(url + '/reactTest/MATUI/API/Controllers/connexion.php', json)\n.then(function(response){console.log(response.data);history.replace('/register');}).catch(function(error){return console.log(error);});}};useEffect(function(){console.log(username);},[username]);useEffect(function(){console.log(password);},[password]);useEffect(function(){console.log(passwordConfirmation);},[passwordConfirmation]);useEffect(function(){console.log(mail);},[mail]);return/*#__PURE__*/_jsx(\"div\",{className:\"LoginRegister\",children:/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"InputItems\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"username\",name:\"username\",required:true,placeholder:\"\\uF007     Username\",onChange:function onChange(e){return setUsername(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"mail\",id:\"mail\",name:\"mail\",required:true,placeholder:\"\\uF007     Mail\",onChange:function onChange(e){return setMail(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"password\",name:\"password\",required:true,placeholder:\"\\uF007     Password\",onChange:function onChange(e){return setPassword(e.target.value);}})}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"passwordConfirmation\",name:\"passwordConfirmation\",required:true,placeholder:\"     Confirm password\",onChange:function onChange(e){return setPasswordConfirmation(e.target.value);}})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"action\",children:/*#__PURE__*/_jsx(\"button\",{className:\"button filled\",onClick:register,children:\"Sign up\"})})]})});};export default Register;","map":{"version":3,"sources":["C:/wamp64/www/Projet_TER/src/views/Register.js"],"names":["React","useEffect","useState","axios","Register","history","username","setUsername","mail","setMail","password","setPassword","passwordConfirmation","setPasswordConfirmation","register","protocol","window","location","host","hostname","url","post","pseudo","mot_de_passe","then","response","console","log","data","replace","catch","error","e","target","value"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport axios from 'axios';\r\n\r\nconst Register = ({history}) => {\r\n    const [username, setUsername] = useState(\"\");\r\n    const [mail, setMail] = useState(\"\");\r\n    const [password, setPassword] = useState(\"\");\r\n    const [passwordConfirmation, setPasswordConfirmation] = useState(\"\");\r\n\r\n\r\n    const  register= ()=> {\r\n        let protocol = window.location.protocol;\r\n        let host = window.location.hostname;\r\n        let url = protocol + '//' + host;\r\n\r\n        if (username !== \"\" && mail !== \"\" && password !== \"\" && passwordConfirmation !== \"\" && password === passwordConfirmation) {\r\n            //const json = JSON.stringify();\r\n            axios.post(url + '/API/Controllers/utilisateur/creerUtilisateur.php', {mail: mail, pseudo: username, mot_de_passe: password})\r\n                // axios.post(url + '/reactTest/MATUI/API/Controllers/connexion.php', json)\r\n                .then(response => {\r\n                    console.log(response.data);\r\n                    history.replace('/register');\r\n                })\r\n                .catch(error => console.log(error))\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        console.log(username)\r\n    }, [username]);\r\n\r\n    useEffect(() => {\r\n        console.log(password)\r\n    }, [password]);\r\n\r\n    useEffect(() => {\r\n        console.log(passwordConfirmation)\r\n    }, [passwordConfirmation]);\r\n    useEffect(() => {\r\n        console.log(mail)\r\n    }, [mail]);\r\n\r\n    return (\r\n        <div className=\"LoginRegister\">\r\n            <div>\r\n                <h3>Sign up</h3>\r\n                <div className=\"InputItems\">\r\n                    <div>\r\n                        <input type=\"text\" id=\"username\" name=\"username\" required placeholder=\"     Username\"\r\n                               onChange={e => setUsername(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"mail\" id=\"mail\" name=\"mail\" required placeholder=\"     Mail\"\r\n                               onChange={e => setMail(e.target.value)}/>\r\n                    </div>\r\n                    <div>\r\n                        <input type=\"password\" id=\"password\" name=\"password\" required placeholder=\"     Password\"\r\n                               onChange={e => setPassword(e.target.value)}/>\r\n                    </div>\r\n\r\n                    <div>\r\n                        <input type=\"password\" id=\"passwordConfirmation\" name=\"passwordConfirmation\" required\r\n                               placeholder={\"     Confirm password\"}\r\n                               onChange={e => setPasswordConfirmation(e.target.value)}/>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"action\">\r\n                    <button className=\"button filled\" onClick={register}>Sign up</button>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Register;\r\n"]},"metadata":{},"sourceType":"module"}
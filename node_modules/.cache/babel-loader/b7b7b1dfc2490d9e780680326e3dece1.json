{"ast":null,"code":"import _slicedToArray from\"C:/wamp64/www/Projet_TER/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import ModalConfirmation from\"../modal/ModalConfirmation\";import{FontAwesomeIcon}from'@fortawesome/react-fontawesome';import{faUndoAlt,faCheckCircle}from'@fortawesome/free-solid-svg-icons';import Loader from'../Loader';import Exemple from'../Exemple';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Historic(props){var _this=this;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),modalOpen=_useState2[0],setModalOpen=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedElement=_useState4[0],setSelectedElement=_useState4[1];function openModal(element){setModalOpen(true);setSelectedElement(element);}function closeModal(){setModalOpen(false);}function back(element){var ID;var type;if('issue'in element){ID=element.issue.ID_Critere;type='issue';}if('method'in element){ID=element.method.ID_Methode;type='method';}props.backOut(ID,type);}function undo(){if(props.historic.length>1){var element=props.historic[props.historic.length-2];back(element);}}return/*#__PURE__*/_jsxs(\"div\",{className:\"Historic\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"historic-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Progression\"}),/*#__PURE__*/_jsx(FontAwesomeIcon,{onClick:undo,className:\"icon\",icon:faUndoAlt})]}),props.historic?/*#__PURE__*/_jsx(\"ul\",{children:props.historic.map(function(element,i){return/*#__PURE__*/_jsxs(\"li\",{onClick:openModal.bind(_this,element),children:[/*#__PURE__*/_jsx(\"p\",{title:element.issue?element.issue.Libelle:element.method.Libelle,children:element.issue?element.issue.Libelle:element.method.Libelle}),element.decision&&/*#__PURE__*/_jsx(\"p\",{children:element.decision.Libelle}),element.checked&&/*#__PURE__*/_jsx(FontAwesomeIcon,{className:\"icon\",icon:faCheckCircle})]},i);})}):/*#__PURE__*/_jsx(Loader,{}),/*#__PURE__*/_jsx(ModalConfirmation,{title:\"Warning\",message:\"Do you really want to come back at this step ? Any selected method will be lost.\",open:modalOpen,close:closeModal,mainAction:back,mainActionParameters:selectedElement,mainActionName:\"Come Back\"})]});}export default Historic;","map":{"version":3,"sources":["C:/wamp64/www/Projet_TER/src/components/quiz/historic.js"],"names":["React","useState","ModalConfirmation","FontAwesomeIcon","faUndoAlt","faCheckCircle","Loader","Exemple","Historic","props","modalOpen","setModalOpen","selectedElement","setSelectedElement","openModal","element","closeModal","back","ID","type","issue","ID_Critere","method","ID_Methode","backOut","undo","historic","length","map","i","bind","Libelle","decision","checked"],"mappings":"+IAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CAEA,MAAOC,CAAAA,iBAAP,KAA8B,4BAA9B,CACA,OAASC,eAAT,KAAgC,gCAAhC,CACA,OAASC,SAAT,CAAoBC,aAApB,KAAyC,mCAAzC,CACA,MAAOC,CAAAA,MAAP,KAAmB,WAAnB,CACA,MAAOC,CAAAA,OAAP,KAAoB,YAApB,C,wFAGA,QAASC,CAAAA,QAAT,CAAkBC,KAAlB,CAAyB,gBACrB,cAAkCR,QAAQ,CAAC,KAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAA8CV,QAAQ,CAAC,IAAD,CAAtD,yCAAOW,eAAP,eAAwBC,kBAAxB,eAEA,QAASC,CAAAA,SAAT,CAAmBC,OAAnB,CAA4B,CACxBJ,YAAY,CAAC,IAAD,CAAZ,CACAE,kBAAkB,CAACE,OAAD,CAAlB,CACH,CAED,QAASC,CAAAA,UAAT,EAAqB,CACjBL,YAAY,CAAC,KAAD,CAAZ,CACH,CAED,QAASM,CAAAA,IAAT,CAAcF,OAAd,CAAsB,CAClB,GAAIG,CAAAA,EAAJ,CACA,GAAIC,CAAAA,IAAJ,CACA,GAAI,SAAWJ,CAAAA,OAAf,CAAwB,CACpBG,EAAE,CAAGH,OAAO,CAACK,KAAR,CAAcC,UAAnB,CACAF,IAAI,CAAG,OAAP,CACH,CACD,GAAI,UAAYJ,CAAAA,OAAhB,CAAyB,CACrBG,EAAE,CAAGH,OAAO,CAACO,MAAR,CAAeC,UAApB,CACAJ,IAAI,CAAG,QAAP,CACH,CACDV,KAAK,CAACe,OAAN,CAAcN,EAAd,CAAkBC,IAAlB,EACH,CAED,QAASM,CAAAA,IAAT,EAAe,CACX,GAAGhB,KAAK,CAACiB,QAAN,CAAeC,MAAf,CAAwB,CAA3B,CAA6B,CACzB,GAAIZ,CAAAA,OAAO,CAAGN,KAAK,CAACiB,QAAN,CAAejB,KAAK,CAACiB,QAAN,CAAeC,MAAf,CAAwB,CAAvC,CAAd,CACAV,IAAI,CAACF,OAAD,CAAJ,CACH,CACJ,CAED,mBACI,aAAK,SAAS,CAAC,UAAf,wBACI,aAAK,SAAS,CAAC,iBAAf,wBACI,mCADJ,cAEI,KAAC,eAAD,EAAiB,OAAO,CAAEU,IAA1B,CAAgC,SAAS,CAAC,MAA1C,CAAiD,IAAI,CAAErB,SAAvD,EAFJ,GADJ,CAKKK,KAAK,CAACiB,QAAN,cACG,oBACCjB,KAAK,CAACiB,QAAN,CAAeE,GAAf,CAAmB,SAACb,OAAD,CAAUc,CAAV,CAAgB,CAC5B,mBACI,YAAI,OAAO,CAAEf,SAAS,CAACgB,IAAV,CAAe,KAAf,CAAqBf,OAArB,CAAb,wBACQ,UAAG,KAAK,CAAEA,OAAO,CAACK,KAAR,CAAgBL,OAAO,CAACK,KAAR,CAAcW,OAA9B,CAAwChB,OAAO,CAACO,MAAR,CAAeS,OAAjE,UAA2EhB,OAAO,CAACK,KAAR,CAAgBL,OAAO,CAACK,KAAR,CAAcW,OAA9B,CAAwChB,OAAO,CAACO,MAAR,CAAeS,OAAlI,EADR,CAEShB,OAAO,CAACiB,QAAR,eACG,mBAAIjB,OAAO,CAACiB,QAAR,CAAiBD,OAArB,EAHZ,CAKShB,OAAO,CAACkB,OAAR,eACG,KAAC,eAAD,EAAiB,SAAS,CAAC,MAA3B,CAAkC,IAAI,CAAE5B,aAAxC,EANZ,GAAiDwB,CAAjD,CADJ,CAWH,CAZJ,CADD,EADH,cAgBK,KAAC,MAAD,IArBV,cAuBI,KAAC,iBAAD,EACI,KAAK,CAAC,SADV,CAEI,OAAO,CAAC,kFAFZ,CAGI,IAAI,CAAEnB,SAHV,CAII,KAAK,CAAEM,UAJX,CAKI,UAAU,CAAEC,IALhB,CAMI,oBAAoB,CAAEL,eAN1B,CAOI,cAAc,CAAC,WAPnB,EAvBJ,GADJ,CAmCH,CAED,cAAeJ,CAAAA,QAAf","sourcesContent":["import React, {useState} from 'react';\r\n\r\nimport ModalConfirmation from \"../modal/ModalConfirmation\";\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome'\r\nimport { faUndoAlt, faCheckCircle } from '@fortawesome/free-solid-svg-icons'\r\nimport Loader from '../Loader';\r\nimport Exemple from '../Exemple'\r\n\r\n\r\nfunction Historic(props) {\r\n    const [modalOpen, setModalOpen] = useState(false);\r\n    const [selectedElement, setSelectedElement] = useState(null);\r\n\r\n    function openModal(element) {\r\n        setModalOpen(true);\r\n        setSelectedElement(element)\r\n    }\r\n\r\n    function closeModal(){\r\n        setModalOpen(false);\r\n    }\r\n\r\n    function back(element){\r\n        let ID;\r\n        let type;\r\n        if ('issue' in element) {\r\n            ID = element.issue.ID_Critere;\r\n            type = 'issue';\r\n        }\r\n        if ('method' in element) {\r\n            ID = element.method.ID_Methode;\r\n            type = 'method';\r\n        }\r\n        props.backOut(ID, type);\r\n    }\r\n\r\n    function undo(){\r\n        if(props.historic.length > 1){\r\n            let element = props.historic[props.historic.length - 2];\r\n            back(element);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"Historic\">\r\n            <div className=\"historic-header\">\r\n                <h3>Progression</h3>\r\n                <FontAwesomeIcon onClick={undo} className=\"icon\" icon={faUndoAlt} />\r\n            </div>\r\n            {props.historic ?\r\n                <ul>\r\n                {props.historic.map((element, i) => {   \r\n                        return (\r\n                            <li onClick={openModal.bind(this, element)} key={i}>\r\n                                    <p title={element.issue ? element.issue.Libelle : element.method.Libelle}>{element.issue ? element.issue.Libelle : element.method.Libelle}</p>\r\n                                    {element.decision &&\r\n                                        <p>{element.decision.Libelle}</p>\r\n                                    }  \r\n                                    {element.checked &&\r\n                                        <FontAwesomeIcon className=\"icon\" icon={faCheckCircle} />\r\n                                    }                            \r\n                            </li>\r\n                        ) \r\n                    })}\r\n                </ul>\r\n                : <Loader/>\r\n            }\r\n            <ModalConfirmation\r\n                title=\"Warning\"\r\n                message=\"Do you really want to come back at this step ? Any selected method will be lost.\"\r\n                open={modalOpen}  \r\n                close={closeModal}\r\n                mainAction={back}\r\n                mainActionParameters={selectedElement}\r\n                mainActionName=\"Come Back\"\r\n            />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Historic;\r\n\r\n"]},"metadata":{},"sourceType":"module"}